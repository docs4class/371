% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{book}
\title{BADM 371 Intro to Data Analytics}
\author{BADM 371}
\date{2022-01-25}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={BADM 371 Intro to Data Analytics},
  pdfauthor={BADM 371},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
\usepackage{booktabs}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage[]{natbib}
\bibliographystyle{apalike}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{1}
\tableofcontents
}
\hypertarget{introduction}{%
\chapter{Introduction}\label{introduction}}

This is a book written which contains all the materials and lessons for \textbf{BADM 371 Intro to Data Analytics}. If you miss a day, want to review something we covered in class, or for any reason want to look for a worksheet, this is where you can go.

Each chapter contains a different topic we will cover during the semester. Some larger topics are split into two chapters to make accessing the materials a little more intuitive.

This book is updated automatically with any changes made to the documents during the semester, so if at any point you are told there was a change in the assignment, you can come here to get the updated version.

Also, this book has benefited greatly from lots of free, readily available resources posted on the web and we leverage these extensively. I would encourage you to review these resources in your analytics journey. Some that we specifically use with great frequency are these (and I say loud \textbf{THANK YOU} to the authors!):

\begin{itemize}
\tightlist
\item
  \href{https://r4ds.had.co.nz/}{R for Data Science}
\item
  \href{https://trevorhastie.github.io/ISLR/}{An Introduction to Statistical Learning with Applications in R}
\item
  \href{https://gsp.humboldt.edu/olm/R/Tutorials/BestFirstRTutorial.pdf}{R: A self-learn tutorial}
\item
  \href{https://datasciencebox.org/}{Data Science in a Box}
\item
  \href{https://stackoverflow.com/questions/4862178/remove-rows-with-all-or-some-nas-missing-values-in-data-frame?rq=1}{stackoverflow.com, for example}
\end{itemize}

\hypertarget{hello-bookdown}{%
\chapter{Hello bookdown}\label{hello-bookdown}}

All chapters start with a first-level heading followed by your chapter title, like the line above. There should be only one first-level heading (\texttt{\#}) per .Rmd file.

\hypertarget{a-section}{%
\section{A section}\label{a-section}}

All chapter sections start with a second-level (\texttt{\#\#}) or higher heading followed by your section title, like the sections above and below here. You can have as many as you want within a chapter.

\hypertarget{an-unnumbered-section}{%
\subsection*{An unnumbered section}\label{an-unnumbered-section}}
\addcontentsline{toc}{subsection}{An unnumbered section}

Chapters and sections are numbered by default. To un-number a heading, add a \texttt{\{.unnumbered\}} or the shorter \texttt{\{-\}} at the end of the heading, like in this section.

\hypertarget{syllabus}{%
\chapter{Syllabus}\label{syllabus}}

Instructor: Tobin Turner

Office Hours: mutually convenient time arranged by email e-mail: \href{mailto:jtturner@presby.edu}{\nolinkurl{jtturner@presby.edu}}

\hypertarget{course-objectives-and-learning-outcomes}{%
\section{Course Objectives and Learning Outcomes}\label{course-objectives-and-learning-outcomes}}

This course is designed to introduce to data science. Students will apply statistical knowledge and techniques to both business and non-business contexts.

At the end of this course students should be able to:

\begin{itemize}
\tightlist
\item
  Demonstrate mastery of the statistical software in R and the Rstudio IDE.
\item
  Data wrangle (the process of cleaning and unifying messy and complex data sets for easy access and analysis)
\item
  Demonstrate mastery of single and multiple regression.
\item
  Demonstrate mastery of these dplyr functions: filter, select, mutate, group\_by, summaize, and tally.
\item
  Demonstrate mastery of how business analytics is related to other business functions and is important to the success of the business entity.
\end{itemize}

This course will be focused on both understanding and applying key business analytical concepts. Although the text serves as a useful foundation for the concepts covered in the class, simple memorization of the material in the text will not be sufficient. Class participation, discussion, and application are critical.

\hypertarget{text-and-resources}{%
\section{Text and Resources}\label{text-and-resources}}

\begin{itemize}
\tightlist
\item
  The course website (primary reource)
\item
  An Introduction to Statistical Learning with Applications in R; by Gareth James, Daniela Witten, Trevor Hastie and Robert Tibshirani
\item
  R: A self-learn tutorial.
\item
  Other free, publicly available datasets and publications.
\end{itemize}

\hypertarget{performance-evaluation-grading}{%
\section{Performance Evaluation (Grading)}\label{performance-evaluation-grading}}

\begin{itemize}
\tightlist
\item
  Quizzes and Assignments - 20\%
\item
  Exam 1 - 20\%
\item
  Exam 2 - 20\%
\item
  Exam 3 - 20\%
\item
  Final Exam - 20\%
\end{itemize}

\hypertarget{exams}{%
\subsection{Exams}\label{exams}}

Exams will cover assigned chapters in the textbook, other assigned readings, lectures, class exercises, class discussions, videos, and guest speakers. I will typically allocate time prior to each exam to clearly identify the body of knowledge each test will cover and to answer questions about the format and objectives of the exam.

\hypertarget{quizzes-dont-miss-class}{%
\subsection{\texorpdfstring{Quizzes -- \textbf{DON''T MISS CLASS}}{Quizzes -- DON''T MISS CLASS}}\label{quizzes-dont-miss-class}}

\begin{itemize}
\tightlist
\item
  The average of all quizzes and assignments will comprise the Quizzes and Assignments - 20\% portion of your final grade
\item
  Quizzes are designed to prepare you for your exams and to ensure you stay up wiht the course material
\item
  Missed quizzes cannot be made up later. Be present.
\end{itemize}

Quizzes rule. \textbf{LISTEN.}

\hypertarget{final-average}{%
\subsection{Final Average}\label{final-average}}

\begin{itemize}
\tightlist
\item
  Final Average Grade

  \begin{itemize}
  \tightlist
  \item
    90-100 A
  \item
    88-89 B+
  \item
    82-87 B+
  \item
    80-81 B-
  \item
    78-79 C+
  \item
    72-77 C+
  \item
    70-71 C-
  \item
    60-69 D
  \item
    59 and below F
  \end{itemize}
\end{itemize}

\hypertarget{class-participation}{%
\section{Class Participation:}\label{class-participation}}

I will frequently give readings or assignments for you to complete prior to the next class meeting. I expect you to fully engage the material: answer questions, pose questions, provide insightful observations. Keep in mind that quality is an important component in ``participation.'' Periodic cold calls will take place. I will also put students in the ``hot seat'' on occasion. In these class sessions, I may select a random group of students to lead us in the discussion and debate. Because the selection of participants will not be announced until class begins, everyone will be expected to prepare for the discussion. Reading the assigned chapters and articles are the best way to prepare for the discussion. If you have concerns about being called on in class, please see me to discuss. The purpose of the ``hot seat'' is not to stress or embarrass students, but to encourage students to actively engage the material.

\hypertarget{phones}{%
\section{Phones}\label{phones}}

\textbf{Phones are not allowed to be used in class without the instructor's prior consent.} If you have a need of a phone during class please let me know before class. Unauthorized use of electronic devices may result in the lowering of the grade or dismissal from the class. \textbf{I mean this.}

\textbf{The phone thing? I mean this.}

\hypertarget{attendance}{%
\section{Attendance}\label{attendance}}

You are expected to be regular and punctual in your class attendance. Students are responsible for all the material missed and homework assignments made. If class is missed, notes/homework should be obtained from another student. If I am more than 15 minutes late, class is considered cancelled. No more than 4 absences are allowed during a semester. Exceeding the absence policy may result in receiving an F for the course. The professors roll is the official roll and students not present when roll is taken will be counted as absent. If a student must miss an exam, she or he must work out an agreeable time with the instructor to take the test prior to the exam being given. If a student misses a test due to an emergency, the student must inform the instructor as soon as is possible. In special cases, the instructor may allow the student to take a make-up exam.

\hypertarget{accommodations}{%
\section{Accommodations}\label{accommodations}}

Presbyterian College is committed to providing reasonable accommodations for all students with documented disabilities. If you are seeking academic accommodations under the Americans with Disabilities Act, you must register with the Academic Success Office, located on 5th Avenue (beside Campus Police). To receive these accommodations, please obtain the proper Accommodations Approval Form from that office, and then meet with me at the beginning of the semester to discuss how we may deliver your approved accommodations. I especially encourage you to meet with me well in advance of the actual accommodations being provided, as it may not be feasible to offer immediate accommodations without sufficient advance notice (such as in the case of tests). I can assure you that all discussions will remain confidential. Disability Services information is located at this link \url{http://bit.ly/PCdisabilityservices}

Additionally, it is the student's responsibility to give the instructor one week's notice prior to each instance where accommodation will be required.

\hypertarget{honor-code-and-plagiarism}{%
\section{Honor Code and Plagiarism:}\label{honor-code-and-plagiarism}}

All assignments/exams must be your own work. Any copying or use of unauthorized assistance will be treated as a violation of PC's Honor Code. If you are unsure of what resources are allowed, please ask. Please note that all text longer than 7 words taken from ANY other source must be placed in quotations and cited. Also, summarizing ANY other source must also be cited. Using ANY other source and showing work to be your own is a violation of plagiarism and the honor code.

\hypertarget{first-generation-version}{%
\section{First-Generation Version:}\label{first-generation-version}}

I am a Presby First+ Advocate. I am here to support our current first-generation students. At Presbyterian College, first-generation students are those in which neither parent nor legal guardian graduated from a four-year higher education institution with a bachelor's degree. If you are a first-generation college student, please contact me. For more information about support for first-generation college students on our campus visit our Presby First+ webpage.

\hypertarget{continuing-advocate-version}{%
\section{Continuing Advocate Version}\label{continuing-advocate-version}}

I am a Presby First+ Advocate. I am committed to supporting first-generation students at Presbyterian College. At Presbyterian College, first-generation students are those in which neither parent nor legal guardian graduated from a four-year higher education institution with a bachelor's degree. If you are a first-generation college student, please contact me anytime or visit me during my office hours. For more information about support for first-generation college students on our campus visit our Presby First+ webpage.

\hypertarget{our-class-rhythm}{%
\chapter{Our Class Rhythm}\label{our-class-rhythm}}

\textbf{Monday:} Wrap up previous topic and introduce what you've pre-read about. Chat. Play. Work some examples. Make sure the topics applies to real-life.

\textbf{Wednesday:} Work more examples. Chat as needed. \textbf{Live our best lives. :)}.

\textbf{Friday:} Apply what we've learned -- demonstrate your mastery (typically in the form of a quiz, lab, or assignment). Rinse. Repeat.

\hypertarget{end-in-mind}{%
\chapter{End in Mind}\label{end-in-mind}}

\textbf{Dana Simmons:} ``Can you predict which students will enroll at PC?''

\textbf{Christina Miller:} ??? Well, can you? ???

\hypertarget{schedule}{%
\chapter{Schedule}\label{schedule}}

This is a tentative schedule, \textbf{BUT} I will do my very best to stick to it, so that you may plan accordingly!

\hypertarget{spring-2022}{%
\section*{Spring 2022}\label{spring-2022}}
\addcontentsline{toc}{section}{Spring 2022}

\begin{longtable}[]{@{}ll@{}}
\toprule
Date & Topic \\
\midrule
\endhead
Date & A1 \\
Monday, January 10, 2022 & TARGET STORY \& INSTALL \\
Wednesday, January 12, 2022 & BASICS 1 \\
Friday, January 14, 2022 & QUIZ 1 - BASICS \\
Monday, January 17, 2022 & MLK Holiday \\
Wednesday, January 19, 2022 & SELF LEARN \\
Friday, January 21, 2022 & QUIZ: SELF LEARN \\
Monday, January 24, 2022 & Class \\
Wednesday, January 26, 2022 & Class \\
Friday, January 28, 2022 & QUIZ \\
Monday, January 31, 2022 & Class \\
Wednesday, February 2, 2022 & Class \\
Friday, February 4, 2022 & QUIZ \\
Monday, February 7, 2022 & Social Dilemma and Review \\
Wednesday, February 9, 2022 & \textbf{EXAM 1} \\
Friday, February 11, 2022 & Class \\
Monday, February 14, 2022 & Class \\
Wednesday, February 16, 2022 & Online Class \\
Friday, February 18, 2022 & Online QUIZ \\
Monday, February 21, 2022 & Class \\
Wednesday, February 23, 2022 & Class \\
Friday, February 25, 2022 & QUIZ \\
Monday, February 28, 2022 & Class \\
Wednesday, March 2, 2022 & Class \\
Friday, March 4, 2022 & QUIZ \\
Monday, March 7, 2022 & \textbf{EXAM 2} \\
Wednesday, March 9, 2022 & Online Class \\
Friday, March 11, 2022 & Online Class \\
Monday, March 14, 2022 & SPRING BREAK \\
Wednesday, March 16, 2022 & SPRING BREAK \\
Friday, March 18, 2022 & SPRING BREAK \\
Monday, March 21, 2022 & Class \\
Wednesday, March 23, 2022 & Class \\
Friday, March 25, 2022 & QUIZ \\
Monday, March 28, 2022 & ADVISING WEEK \\
Wednesday, March 30, 2022 & ADVISING WEEK \\
Friday, April 1, 2022 & QUIZ \\
Monday, April 4, 2022 & Class \\
Wednesday, April 6, 2022 & Class \\
Friday, April 8, 2022 & QUIZ \\
Monday, April 11, 2022 & Class \\
Wednesday, April 13, 2022 & \textbf{EXAM 3} \\
Friday, April 15, 2022 & Easter Holidays \\
Monday, April 18, 2022 & Easter Holidays \\
Wednesday, April 20, 2022 & Class \\
Friday, April 22, 2022 & QUIZ \\
Monday, April 25, 2022 & Class \\
Wednesday, April 27, 2022 & QUIZ \\
Friday, April 29, 2022 & LAST DAY \\
Monday, May 2, 2022 & \textbf{Final Exam} 5:30 p.m. -- E period \\
\bottomrule
\end{longtable}

\hypertarget{elephant-in-the-room-r}{%
\chapter{\texorpdfstring{Elephant in the room: \textbf{R}}{Elephant in the room: R}}\label{elephant-in-the-room-r}}

There are a variety of different applications for R. Yes, the more obvious ones would be things such as machine learning, artificial intelligence, and data mining. However, the possibilities with this program are honestly limitless.

\hypertarget{the-bad-news}{%
\section{The bad news}\label{the-bad-news}}

\begin{quote}
\textbf{``The bad news is whenever you're learning a new tool, for a long time you're going to suck. It's going to be very frustrating. But, the good news is that that is typical, it's something that happens to everyone, and it's only temporary \ldots{} {[}T{]}here is no way to go from knowing nothing about a subject to knowing something about a subject and being an expert in it without going through a period of great frustration.''}
\end{quote}

-- Hadley Wickham

\hypertarget{about-r}{%
\section{About R}\label{about-r}}

R is a software language for carrying out complicated (and simple) statistical analyses. It includes routines for data summary and exploration, graphical presentation and data modelling.

\hypertarget{r-vs.-excel}{%
\chapter{R vs.~Excel}\label{r-vs.-excel}}

\hypertarget{both-are-useful}{%
\section{Both are useful}\label{both-are-useful}}

Data analytics are increasingly important components of decision-making in any business. Whether you're a part of a marketing team that needs to generate visuals to highlight industry trends, or you're looking to generate financial statements, you will need an analytics program to help you develop your reports and effectively communicate your findings.

Both R and Excel are excellent data analytics tools, but they each have distinct functionality.

\begin{quote}
\textbf{Please make sure you can explain the distinct functions of both R and Excel! YOU WILL NEED TO KNOW THIS!}
\end{quote}

Excel is a well-known software program included in the Microsoft Office Suite. Used to create spreadsheets, execute calculations, produce charts, and perform statistical analysis, Excel is used by many professionals across a variety of industries. PC's \textbf{BADM 299} prepares you well for using Excel.

R is a free, open-source programming language and software environment that's frequently used in big data analysis and statistical computing. R has many advanced functions and capabilities.

\hypertarget{differences-between-r-and-excel}{%
\section{Differences Between R and Excel}\label{differences-between-r-and-excel}}

When choosing between R and Excel, it's important to understand how either software can get you the results you need. Here are some key differences between R and Excel to help you decide which makes the most sense to use.

\hypertarget{ease-of-use-learning-the-software}{%
\section{Ease of Use \& Learning the Software}\label{ease-of-use-learning-the-software}}

Most people have likely already learned at least a few basic tips in Microsoft Excel. That's one substantial benefit of using Excel---the initial learning curve is quite minimal, and most analysis can be done via point-and-click on the top panel. Once a user imports their data into the program, it's not very hard to make basic graphs and charts.

R is a programming language, however, meaning the initial learning curve is steeper. It will take most at least a few weeks to familiarize themselves with the interface and master the various functions. Luckily, using R can quickly become second-nature with practice.

\hypertarget{replicating-analysis}{%
\section{Replicating Analysis}\label{replicating-analysis}}

R, while less user-friendly with a more intimidating user interface, has the capability to reproduce analyses repeatedly and with very different datasets. This can be incredibly helpful for large projects with multiple data sets, as you'll keep everything consistent and clean, without having to rewrite the script each time.

Since Excel's user interface is point-and-click, you'll need to rely on memory and repetition frequently. You cannot import codes and scripts as you would with R, so you'll have to ``reinvent the wheel'' to perform the same analysis across different data sets. This is not detrimental if you are doing basic statistics, but it may become time-consuming with more complicated analyses.

\begin{quote}
For example, let's say you have thoroughly analyzed the analytics of 1 football season. How could R (vs Excel) help you quickly analyze a new season's data?
\end{quote}

\hypertarget{visualization}{%
\section{Visualization}\label{visualization}}

When deciding between R and Excel, ask yourself, ``How detailed do my visualizations need to be in order to achieve my goal(s)?'' In Excel, for example, you can quickly highlight a group of cells and make a simple chart for PowerPoint. If you need a more comprehensive graph, however, R may be your best bet. R can produce incredibly attractive, detailed visuals that can help stakeholders understand your findings.

It all comes down to what you need your graphics to do. If you're just looking to cobble together a quick-and-dirty presentation to visualize data for your coworkers, then making simple straightforward charts in Excel will suffice. For those planning to publish large amounts of complicated data to various stakeholders, spending the time in R to create impressive interactive visual representations will likely be worth your while.

For example, here's and example of a pretty easy visualization in R that would be challenging to do (and update) in Excel.

\includegraphics{09-rvexcel_files/figure-latex/unnamed-chunk-1-1.pdf}

\hypertarget{packages}{%
\section{Packages}\label{packages}}

In R, the fundamental unit of shareable code is the package. A package bundles together code, data, documentation, and tests, and is easy to share with others. As of June 2019, there were over 14,000 packages available on the Comprehensive R Archive Network, or CRAN, the public clearing house for R packages. This huge variety of packages is one of the reasons that R is so successful: the chances are that someone has already solved a problem that you're working on, and you can benefit from their work by downloading their package.

But packages are useful even if you never share your code. As Hilary Parker says in her introduction to packages: ``Seriously, it doesn't have to be about sharing your code (although that is an added benefit!). It is about saving yourself time.'' Organising code in a package makes your life easier because packages come with conventions. For example, you put R code in R/, you put tests in tests/ and you put data in data/. These conventions are helpful because:

\begin{itemize}
\tightlist
\item
  They save you time --- you don't need to think about the best way to organise a project, you can just follow a template.
\item
  Standardized conventions lead to standardized tools --- if you buy into R's package conventions, you get many tools for free.
\end{itemize}

\begin{quote}
We will chat more about packages, but for fun check out the links below\ldots{}
\end{quote}

\hypertarget{careers}{%
\section{Careers}\label{careers}}

Aptitude with Excel and R are incredibly valuable competencies that are in-demand across a variety of industries. Countless jobs are looking for applicants with at least some Excel experience (pivot tables look really good on a resumé), but R has a higher earning potential and is more in-demand than Excel.

R is one of the most popular programming languages and is an industry-standard for data analytics and data science. If you want to enter either field, there's a good chance you'll have a competitive advantage by knowing R. Entry-level jobs for those focusing on R also tend to make a high salary, frequently starting off earning more than \$75,000.

Countless job listings also require Excel competency. From administrative assistants, marketers, academics, and more, everyone is expected to use Excel to some degree, whereas 10 to 15 years ago it was optional. Having a good background in Excel is still attractive on a resumé and will help to land a career with a high earning potential, but there are not many jobs looking for Excel skills alone.

\hypertarget{summary-using-r-and-excel}{%
\section{Summary -- Using R and Excel}\label{summary-using-r-and-excel}}

R and Excel are beneficial in different ways. Excel starts off easier to learn and is frequently cited as the go-to program for reporting, thanks to its speed and efficiency. R is designed to handle larger data sets, to be reproducible, and to create more detailed visualizations. It's not a question of choosing between R and Excel, but deciding which program to use for different needs.

\hypertarget{r-basics}{%
\chapter{R basics and workflows}\label{r-basics}}

\hypertarget{basics-of-working-with-r-at-the-command-line-and-rstudio-goodies}{%
\section{Basics of working with R at the command line and RStudio goodies}\label{basics-of-working-with-r-at-the-command-line-and-rstudio-goodies}}

Launch RStudio/R.

You will first intall R and then. RStudio.

\begin{itemize}
\item
  \href{https://cran.case.edu/}{Installing R}
\item
  \href{https://www.rstudio.com/products/rstudio/download/}{Installing RStudio}
\item
  \href{https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-the-RStudio-IDE}{Customizing RStudio}
\item
  \href{https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts-in-the-RStudio-IDE}{RStudio Quick keys}
\end{itemize}

\hypertarget{in-rstudio---where-we-will-live}{%
\section{In Rstudio - where we will live}\label{in-rstudio---where-we-will-live}}

Notice the default panes:

\begin{itemize}
\tightlist
\item
  Console (entire left)
\item
  Environment/History (tabbed in upper right)
\item
  Files/Plots/Packages/Help (tabbed in lower right)
\end{itemize}

\hypertarget{section}{%
\section{}\label{section}}

\href{http://www.sthda.com/sthda/RDoc/images/rstudio.png}{Rstudio Console}

FYI: you can change the default location of the panes, among many other things: \href{https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-the-RStudio-IDE}{Customizing RStudio}.

Go into the Console, where we interact with the live R process.

You can make an object by assigning a value or statement to a letter or string. We use \texttt{\textless{}-} to assign objects meaning. Create and inspect the following object:

\textbf{Your first analysis in R:}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OtherTok{\textless{}{-}} \DecValTok{3} \SpecialCharTok{*} \DecValTok{4}
\NormalTok{x}
\CommentTok{\#\textgreater{} [1] 12}
\end{Highlighting}
\end{Shaded}

All R statements where you create objects -- ``assignments'' -- have this form:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{objectName }\OtherTok{\textless{}{-}}\NormalTok{ value}
\end{Highlighting}
\end{Shaded}

and in my head I hear, e.g., ``x gets 12''.

You will make lots of assignments and the operator \texttt{\textless{}-} is a pain to type. Don't be lazy and use \texttt{=}, although it would work, because it will just sow confusion later. Instead, utilize RStudio's keyboard shortcut: Alt + - (the minus sign).

\textbf{I want to be your friend. As a friend, I implore you, learn this:}

\begin{quote}
In RStudio insert the \textless- assignment operator with Option + - (the minus sign)on a Mac, or Alt + - (the minus sign) on Windows.
\end{quote}

Notice that RStudio automatically surrounds \texttt{\textless{}-} with spaces, which demonstrates a useful code formatting practice. Code is miserable to read on a good day. Give your eyes a break and use spaces.

RStudio offers many handy \href{https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts-in-the-RStudio-IDE}{RStudio Quick keys}. Also, Alt+Shift+K brings up a keyboard shortcut reference card.

Object names cannot start with a digit and cannot contain certain other characters such as a comma or a space. You will be wise to adopt a \href{https://en.wikipedia.org/wiki/Snake_case}{convention for demarcating words} in names, but note that best practice is to choose ONE convention and stay true to it throughout your code.

\begin{verbatim}
i_use_snake_case
other.people.use.periods
evenOthersUseCamelCase
\end{verbatim}

Make another assignment:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{this\_is\_a\_really\_long\_name }\OtherTok{\textless{}{-}} \FloatTok{2.5}
\end{Highlighting}
\end{Shaded}

To inspect this, try out RStudio's completion facility: type the first few characters, press TAB, add characters until you disambiguate, then press return.

Make another assignment:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{turner\_rocks }\OtherTok{\textless{}{-}} \DecValTok{2} \SpecialCharTok{\^{}} \DecValTok{3}
\end{Highlighting}
\end{Shaded}

When making assignments, it is best practice to keep the names brief, yet descriptive. For instance, while the name ``this\_is\_a\_really\_long\_name'' is accurate, so is ``long\_name'' and this is much more intuitive and easy to read/type over and over.

Let's try to inspect:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{turnerrocks}
\CommentTok{\#\textgreater{} Error in eval(expr, envir, enclos): object \textquotesingle{}turnerrocks\textquotesingle{} not found}
\NormalTok{Turner\_rocks}
\CommentTok{\#\textgreater{} Error in eval(expr, envir, enclos): object \textquotesingle{}Turner\_rocks\textquotesingle{} not found}
\NormalTok{turner\_rocks}
\CommentTok{\#\textgreater{} [1] 8}
\end{Highlighting}
\end{Shaded}

\textbf{Implicit contract with the computer / scripting language: Computer will do tedious computation for you. In return, you will be completely precise in your instructions. Typos matter. Case matters. Get better at typing.}

R has a mind-blowing collection of built-in functions that are accessed like so:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{functionName}\NormalTok{(}\AttributeTok{arg1 =}\NormalTok{ val1, }\AttributeTok{arg2 =}\NormalTok{ val2, and so on)}
\end{Highlighting}
\end{Shaded}

Let's try using \texttt{seq()} which makes regular sequences of numbers and, while we're at it, demo more helpful features of RStudio.

Type \texttt{se} and hit TAB. A pop up shows you possible completions. Specify \texttt{seq()} by typing more to disambiguate or using the up/down arrows to select. Notice the floating tool-tip-type help that pops up, reminding you of a function's arguments. If you want even more help, press F1 as directed to get the full documentation in the help tab of the lower right pane. Now open the parentheses and notice the automatic addition of the closing parenthesis and the placement of cursor in the middle. Type the arguments \texttt{1,\ 10} and hit return. RStudio also exits the parenthetical expression for you. IDEs are great.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{)}
\CommentTok{\#\textgreater{}  [1]  1  2  3  4  5  6  7  8  9 10}
\end{Highlighting}
\end{Shaded}

The above also demonstrates something about how R resolves function arguments. You can always specify in \texttt{name\ =\ value} form. But if you do not, R attempts to resolve by position. So above, it is assumed that we want a sequence \texttt{from\ =\ 1} that goes \texttt{to\ =\ 10}. Since we didn't specify step size, the default value of \texttt{by} in the function definition is used, which ends up being 1 in this case. For functions I call often, I might use this resolve by position for the first
argument or maybe the first two. After that, I always use \texttt{name\ =\ value}.

Make this assignment and notice similar help with quotation marks.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{yo }\OtherTok{\textless{}{-}} \StringTok{"hello world"}
\end{Highlighting}
\end{Shaded}

If you just make an assignment, you don't get to see the value, so then you're tempted to immediately inspect.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{)}
\NormalTok{y}
\CommentTok{\#\textgreater{}  [1]  1  2  3  4  5  6  7  8  9 10}
\end{Highlighting}
\end{Shaded}

This common action can be shortened by surrounding the assignment with parentheses, which causes assignment and ``print to screen'' to happen.

It is best practice to always attempt to ``print'' your assignments after creating them. This will help leviate the issue of searching 200+ lines of code for that one error causing argument.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{(y }\OtherTok{\textless{}{-}} \FunctionTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{))}
\CommentTok{\#\textgreater{}  [1]  1  2  3  4  5  6  7  8  9 10}
\end{Highlighting}
\end{Shaded}

Not all functions have (or require) arguments:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{date}\NormalTok{()}
\CommentTok{\#\textgreater{} [1] "Tue Jan 25 10:26:48 2022"}
\end{Highlighting}
\end{Shaded}

Now look at your workspace -- in the upper right pane. The workspace is where user-defined objects accumulate. You can also get a listing of these objects with commands:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{objects}\NormalTok{()}
\CommentTok{\#\textgreater{} [1] "this\_is\_a\_really\_long\_name"}
\CommentTok{\#\textgreater{} [2] "turner\_rocks"              }
\CommentTok{\#\textgreater{} [3] "x"                         }
\CommentTok{\#\textgreater{} [4] "y"                         }
\CommentTok{\#\textgreater{} [5] "yo"}
\FunctionTok{ls}\NormalTok{()}
\CommentTok{\#\textgreater{} [1] "this\_is\_a\_really\_long\_name"}
\CommentTok{\#\textgreater{} [2] "turner\_rocks"              }
\CommentTok{\#\textgreater{} [3] "x"                         }
\CommentTok{\#\textgreater{} [4] "y"                         }
\CommentTok{\#\textgreater{} [5] "yo"}
\end{Highlighting}
\end{Shaded}

If you want to remove the object named \texttt{y}, you can do this:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{(y)}
\end{Highlighting}
\end{Shaded}

To remove everything:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{(}\AttributeTok{list =} \FunctionTok{ls}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

or click the broom in RStudio's Environment pane.

\hypertarget{workspace-and-working-directory}{%
\section{Workspace and working directory}\label{workspace-and-working-directory}}

One day you will need to quit R, go do something else and return to your analysis later (this is a very happy day).

One day you will have multiple analyses going that use R and you want to keep them separate (a not so happy day).

One day you will need to bring data from the outside world into R and send numerical results and figures from R back out into the world (the happiest of days).

To handle these real life situations, you need to make two decisions:

\begin{itemize}
\tightlist
\item
  What about your analysis is ``real'', i.e.~will you save it as your lasting record of what happened?
\item
  Where does your analysis ``live''?
\end{itemize}

\hypertarget{workspace-.rdata}{%
\subsection{\texorpdfstring{Workspace, \texttt{.RData}}{Workspace, .RData}}\label{workspace-.rdata}}

As a beginning R user, it's OK to consider your workspace ``real''. \emph{Very soon}, I urge you to evolve to the next level, where you consider your saved R scripts as ``real''. (In either case, of course the input data is very much real and requires preservation!) With the input data and the R code you used, you can reproduce
\emph{everything}. You can make your analysis fancier. You can get to the bottom of puzzling results and discover and fix bugs in your code. You can reuse the code to conduct similar analyses in new projects. You can remake a figure with different aspect ratio or save is as TIFF instead of PDF. You are ready to take questions. You are ready for the future.

If you regard your workspace as ``real'' (saving and reloading all the time), if you need to redo analysis \ldots{} you're going to either redo a lot of typing (making mistakes all the way) or will have to mine your R history for the commands you used. Rather than {[}becoming an expert on managing the R history{]}{[}rstudio-command-history{]}, a better use of your time and psychic energy is to keep your ``good'' R code in a script for future reuse.

Because it can be useful sometimes, note the commands you've recently run appear in the History pane.

But you don't have to choose right now and the two strategies are not incompatible. Let's demo the save / reload the workspace approach.

Upon quitting R, you have to decide if you want to save your workspace, for potential restoration the next time you launch R. Depending on your set up, R or your IDE, e.g.~RStudio, will probably prompt you to make this decision.

Quit R/RStudio, either from the menu, using a keyboard shortcut, or by typing \texttt{q()} in the Console. You'll get a prompt like this:

\begin{quote}
Save workspace image to \textasciitilde/.Rdata?
\end{quote}

\emph{Note where the workspace image is to be saved} and then click ``Save''.

Using your favorite method, visit the directory where image was saved and verify there is a file named \texttt{.RData}. You will also see a file \texttt{.Rhistory}, holding the commands submitted in your recent session.

Restart RStudio. In the Console you will see a line like this:

\begin{verbatim}
[Workspace loaded from ~/.RData]
\end{verbatim}

indicating that your workspace has been restored. Look in the Workspace pane and you'll see the same objects as before. In the History tab of the same pane, you should also see your command history. You're back in business. This way of starting and stopping analytical work will not serve you well for long but it's a start.

\hypertarget{working-directory}{%
\subsection{Working directory}\label{working-directory}}

Any process running on your computer has a notion of its ``working directory''. In R, this is where R will look, by default, for files you ask it to load. It also where, by default, any files you write to disk will go. Chances are your current working directory is the directory we inspected above, i.e.~the one where RStudio wanted to save the workspace.

You can explicitly check your working directory with:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{getwd}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

It is also displayed at the top of the RStudio console.

As a beginning R user, it's OK let your home directory or any other weird directory on your computer be R's working directory. \emph{Very soon}, I urge you to evolve to the next level, where you organize your analytical projects into directories and, when working on project A, set R's working directory to the associated directory.

\textbf{Although I do not recommend it}, in case you're curious, you can set R's working directory at the command line like so:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{setwd}\NormalTok{(}\StringTok{"\textasciitilde{}/myCoolProject"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\textbf{Although I do not recommend it}, you can also use RStudio's Files pane to navigate to a directory and then set it as working directory from the menu: \emph{Session \textgreater{} Set Working Directory \textgreater{} To Files Pane Location}. (You'll see even more options there). Or within the Files pane, choose ``More'' and ``Set As Working Directory''.

But there's a better way. A way that also puts you on the path to managing your R work like an expert.

\hypertarget{exercises}{%
\section{Exercises}\label{exercises}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Create an object called ``cool\_object'' and assign it the number 100.
\item
  Create a new object called ``big\_brain'' and multiply the object from question one by 15.
\item
  Print both objects.
\item
  Use base R functions to return today's date and print it.
\item
  Create a sequence of numbers counting from 10 to 100 by 2.
\item
  Identify your working directory. What is it? Change it to where you want it.
\item
  Save the R script that answers questions 1 through 5 above. Save it; clean and close Rstudio; reopen your script and run it. Make sense?
\end{enumerate}

\hypertarget{objects-and-arithmetic}{%
\chapter{Objects and Arithmetic}\label{objects-and-arithmetic}}

\hypertarget{introduction-1}{%
\section{Introduction}\label{introduction-1}}

R stores information and operates on objects. The simplest objects are scalars, vectors and matrices.
But there are many others: lists and dataframes for example. In advanced use of R it can also be
useful to define new types of object, specific for particular application. We will stick with just the
most commonly used objects here.
An important feature of R is that it will do different things on different types of objects. For
example, type:

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{4}\SpecialCharTok{+}\DecValTok{6}
\CommentTok{\#\textgreater{} [1] 10}
\end{Highlighting}
\end{Shaded}

So, R does scalar arithmetic returning the scalar value 10. (In actual fact, R returns a vector of
length 1 - hence the {[}1{]} denoting first element of the vector.
We can assign objects values for subsequent use. For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\DecValTok{6}
\NormalTok{y}\OtherTok{\textless{}{-}}\DecValTok{4}
\NormalTok{z}\OtherTok{\textless{}{-}}\NormalTok{x}\SpecialCharTok{+}\NormalTok{y}
\end{Highlighting}
\end{Shaded}

would do the same calculation as above, storing the result in an object called z. We can look at
the contents of the object by simply typing its name:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z}
\CommentTok{\#\textgreater{} [1] 10}
\end{Highlighting}
\end{Shaded}

Storing things such as calculations as objects is extremely useful, especially in longer scripts. Mainly because you will likely call the same equation multiple times and if you need to revise it in any way you only need to change the initial assignment rather than every line.

\hypertarget{basic-functions}{%
\section{Basic Functions}\label{basic-functions}}

At any time we can list the objects which we have created:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ls}\NormalTok{()}
\CommentTok{\#\textgreater{} [1] "x" "y" "z"}
\end{Highlighting}
\end{Shaded}

Notice that ls is actually an object itself. Typing ls would result in a display of the contents of
this object, in this case, the commands of the function. The use of parentheses, ls(), ensures that
the function is executed and its result - in this case, a list of the objects in the directory - displayed.
More commonly a function will operate on an object, for example:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{sqrt}\NormalTok{(}\DecValTok{16}\NormalTok{)}
\CommentTok{\#\textgreater{} [1] 4}
\end{Highlighting}
\end{Shaded}

calculates the square root of 16. Objects can be removed from the current workspace with the rm
function:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rm}\NormalTok{(x,y)}
\end{Highlighting}
\end{Shaded}

for example.

There are many standard functions available in R, and it is also possible to create new ones.
Vectors can be created in R in a number of ways. We can describe all of the elements:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Note the use of the function c to concatenate or glue together individual elements. This function
can be used much more widely, for example

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{9}\NormalTok{)}
\NormalTok{y}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{)}
\NormalTok{z}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(x,y)}
\end{Highlighting}
\end{Shaded}

would lead to the same result by gluing together two vectors to create a single vector.

Sequences can be generated as follows:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}
\end{Highlighting}
\end{Shaded}

while more general sequences can be generated using the seq command. For example:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{9}\NormalTok{,}\AttributeTok{by=}\DecValTok{2}\NormalTok{)}
\CommentTok{\#\textgreater{} [1] 1 3 5 7 9}
\FunctionTok{seq}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{20}\NormalTok{,}\AttributeTok{length=}\DecValTok{6}\NormalTok{)}
\CommentTok{\#\textgreater{} [1]  8.0 10.4 12.8 15.2 17.6 20.0}
\end{Highlighting}
\end{Shaded}

These examples illustrate that many functions in R have optional arguments, in this case, either the step length or the total length of the sequence (it doesn't make sense to use both). If you leave out both of these options, R will make its own default choice, in this case assuming a step length
of 1. So, for example,

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{seq}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{20}\NormalTok{,}\AttributeTok{length=}\DecValTok{6}\NormalTok{)}
\CommentTok{\#\textgreater{} [1]  8.0 10.4 12.8 15.2 17.6 20.0}
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{seq}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{)}
\NormalTok{x}
\CommentTok{\#\textgreater{}  [1]  1  2  3  4  5  6  7  8  9 10}
\end{Highlighting}
\end{Shaded}

also generates a vector of integers from 1 to 10.

At this point it's worth mentioning the help facility. If you don't know how to use a function,
or don't know what the options or default values are, type help(functionname) where functionname is the name of the function you are interested in. This will usually help and will often include examples to make things even clearer.

Another useful function for building vectors is the rep command for repeating things. For
example:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rep}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{100}\NormalTok{)}
\CommentTok{\#\textgreater{}   [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}
\CommentTok{\#\textgreater{}  [28] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}
\CommentTok{\#\textgreater{}  [55] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}
\CommentTok{\#\textgreater{}  [82] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0}
\FunctionTok{rep}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{,}\DecValTok{6}\NormalTok{)}
\CommentTok{\#\textgreater{}  [1] 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3}
\FunctionTok{rep}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{,}\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{6}\NormalTok{))}
\CommentTok{\#\textgreater{}  [1] 1 1 1 1 1 1 2 2 2 2 2 2 3 3 3 3 3 3}
\end{Highlighting}
\end{Shaded}

which we could also simplify cleverly as:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rep}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{,}\FunctionTok{rep}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{3}\NormalTok{))}
\CommentTok{\#\textgreater{}  [1] 1 1 1 1 1 1 2 2 2 2 2 2 3 3 3 3 3 3}
\end{Highlighting}
\end{Shaded}

As explained above, R will often adapt to the objects it is asked to work on. For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{)}
\NormalTok{y}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{)}
\NormalTok{x}\SpecialCharTok{+}\NormalTok{y}
\CommentTok{\#\textgreater{} [1]  7 10 13}
\end{Highlighting}
\end{Shaded}

and

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\SpecialCharTok{*}\NormalTok{y}
\CommentTok{\#\textgreater{} [1]  6 16 36}
\end{Highlighting}
\end{Shaded}

showing that R uses componentwise arithmetic on vectors. R will also try to make sense if objects
are mixed. For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{)}
\NormalTok{x}\SpecialCharTok{+}\DecValTok{2}
\CommentTok{\#\textgreater{} [1]  8 10 11}
\end{Highlighting}
\end{Shaded}

though care should be taken to make sure that R is doing what you would like it to in these circumstances.

Two particularly useful functions worth remembering are length which returns the length of a vector (i.e.~the number of elements it contains) and sum which calculates the sum of the elements of a vector.

\hypertarget{statistics-and-summaries}{%
\section{Statistics and Summaries}\label{statistics-and-summaries}}

One of the most useful functions of R is its ability to perform statistical analysis on large pieces of data. Later in this book we will cover how this analysis can be used to build complex models and test their accuracy. For now, the focus will be on how to perform basic statistical analysis and the definitions of the more basic terms.

\hypertarget{statistical-analysis}{%
\subsection{Statistical Analysis}\label{statistical-analysis}}

You've undoubtedly have heard the terms mean, median, standard deviation and variance. However, if asked to define these terms and provide examples of their usefulness, what would you say? This section is going to answer the first part of that question.

Mean is a pretty straight forward concept for most. Commonly referred to as the ``average'', you find this number by adding all the numbers in your data set together and then divide by the total number of points you used. This is easily done on a calculator if you are working with less then 20 digits, however this is almost never the case in data science. Often, especially with R, you will be dealing with data sets with hundreds, thousands, or maybe even hundreds of thousands of data points. Fortunately, R takes the pain away from this process and offers a very simple function that will do this for you. Start by creating an object that contains a list of numbers, and then simply use the mean function to calculate the average of your variable.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{3.8}\NormalTok{,}\DecValTok{4}\NormalTok{,}\FloatTok{3.1}\NormalTok{,}\FloatTok{2.1}\NormalTok{,}\FloatTok{12.6}\NormalTok{,}\DecValTok{17}\NormalTok{,}\FloatTok{8.43}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\FloatTok{0.5}\NormalTok{)}

\FunctionTok{mean}\NormalTok{(a)}
\CommentTok{\#\textgreater{} [1] 6.037857}
\end{Highlighting}
\end{Shaded}

The median of a data set is data point that fall in the middle of all the other points when they are ordered from lowest to highest. Again, something easily found even without a calculator if you have small data sets, however humans can miscount and some data sets are just too massive for us to do on our own. R never makes these counting mistakes and by using a simple function you save yourself hours of mundane counting. Start the same way you found mean by creating an object with various numbers and then simply use the \texttt{median} function.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{3.8}\NormalTok{,}\DecValTok{4}\NormalTok{,}\FloatTok{3.1}\NormalTok{,}\FloatTok{2.1}\NormalTok{,}\FloatTok{12.6}\NormalTok{,}\DecValTok{17}\NormalTok{,}\FloatTok{8.43}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\FloatTok{0.5}\NormalTok{)}

\FunctionTok{median}\NormalTok{(b)}
\CommentTok{\#\textgreater{} [1] 3.9}
\end{Highlighting}
\end{Shaded}

Many people have heard of standard deviation, but not many can provide an accurate definition. Standard deviation is the measure of variance (see next paragraph) between numbers in a data set and that data set's mean. Typically a lower standard deviation is what you want to see as this proves there is little variance in your data set and that typically means a higher correlation. If you wanted to find this by hand you would have to find the square root of the variance between each point and the mean. This is easy if you have all the numbers you need, but that is almost never the case and thus you would have to calculate all that variance by hand and that is too much work. Why take all those extra steps when R can do it for you? The \texttt{sd()} function does all the work without any hassle, all you have to do is identify the object you want it to find the standard deviation of.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\FloatTok{3.8}\NormalTok{,}\DecValTok{4}\NormalTok{,}\FloatTok{3.1}\NormalTok{,}\FloatTok{2.1}\NormalTok{,}\FloatTok{12.6}\NormalTok{,}\DecValTok{17}\NormalTok{,}\FloatTok{8.43}\NormalTok{,}\DecValTok{11}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\FloatTok{0.5}\NormalTok{)}

\FunctionTok{sd}\NormalTok{(d)}
\CommentTok{\#\textgreater{} [1] 4.821066}
\end{Highlighting}
\end{Shaded}

Finally, we can cover variance. Variance is the measure of distance between two numbers. This statistic is often used to measure how spread out your data is and can be used to determine your model's accuracy. Typically, a higher variance means your model is inaccurate. So, when building models and reviewing your summary statistics, you want your variance to be as low as possible. There is a var() function that will find the variance of a variable for you, however typically you will create a confusion matrix (discussed in a later section) that will help you determine the variance, and thus accuracy of your model.

\hypertarget{anscombes-quartet}{%
\subsection{Anscombe's Quartet}\label{anscombes-quartet}}

You may be asking now, why bother visualizing data if I have all these numbers that will tell me what I need to know about my data? You are correct in saying that statistical data is very useful, and in many cases essential, however visualization is equally as important. Anscombe's Quartet is a statistical phenomenon where four sets of data have very similar statistical properties, but very are completely different when graphed. Let's take a look at the data:

\begin{verbatim}
#>    x1 x2 x3 x4    y1   y2    y3    y4
#> 1  10 10 10  8  8.04 9.14  7.46  6.58
#> 2   8  8  8  8  6.95 8.14  6.77  5.76
#> 3  13 13 13  8  7.58 8.74 12.74  7.71
#> 4   9  9  9  8  8.81 8.77  7.11  8.84
#> 5  11 11 11  8  8.33 9.26  7.81  8.47
#> 6  14 14 14  8  9.96 8.10  8.84  7.04
#> 7   6  6  6  8  7.24 6.13  6.08  5.25
#> 8   4  4  4 19  4.26 3.10  5.39 12.50
#> 9  12 12 12  8 10.84 9.13  8.15  5.56
#> 10  7  7  7  8  4.82 7.26  6.42  7.91
#> 11  5  5  5  8  5.68 4.74  5.73  6.89
\end{verbatim}

\begin{verbatim}
#>                    x1        x2        x3        x4
#> nobs        11.000000 11.000000 11.000000 11.000000
#> NAs          0.000000  0.000000  0.000000  0.000000
#> Minimum      4.000000  4.000000  4.000000  8.000000
#> Maximum     14.000000 14.000000 14.000000 19.000000
#> 1. Quartile  6.500000  6.500000  6.500000  8.000000
#> 3. Quartile 11.500000 11.500000 11.500000  8.000000
#> Mean         9.000000  9.000000  9.000000  9.000000
#> Median       9.000000  9.000000  9.000000  8.000000
#> Sum         99.000000 99.000000 99.000000 99.000000
#> SE Mean      1.000000  1.000000  1.000000  1.000000
#> LCL Mean     6.771861  6.771861  6.771861  6.771861
#> UCL Mean    11.228139 11.228139 11.228139 11.228139
#> Variance    11.000000 11.000000 11.000000 11.000000
#> Stdev        3.316625  3.316625  3.316625  3.316625
#> Skewness     0.000000  0.000000  0.000000  2.466911
#> Kurtosis    -1.528926 -1.528926 -1.528926  4.520661
#>                    y1        y2        y3        y4
#> nobs        11.000000 11.000000 11.000000 11.000000
#> NAs          0.000000  0.000000  0.000000  0.000000
#> Minimum      4.260000  3.100000  5.390000  5.250000
#> Maximum     10.840000  9.260000 12.740000 12.500000
#> 1. Quartile  6.315000  6.695000  6.250000  6.170000
#> 3. Quartile  8.570000  8.950000  7.980000  8.190000
#> Mean         7.500909  7.500909  7.500000  7.500909
#> Median       7.580000  8.140000  7.110000  7.040000
#> Sum         82.510000 82.510000 82.500000 82.510000
#> SE Mean      0.612541  0.612568  0.612196  0.612242
#> LCL Mean     6.136083  6.136024  6.135943  6.136748
#> UCL Mean     8.865735  8.865795  8.864057  8.865070
#> Variance     4.127269  4.127629  4.122620  4.123249
#> Stdev        2.031568  2.031657  2.030424  2.030579
#> Skewness    -0.048374 -0.978693  1.380120  1.120774
#> Kurtosis    -1.199123 -0.514319  1.240044  0.628751
\end{verbatim}

As you can see from the table, the summary statistics for the four tables look very similar, however let's graph these and see what kind of visualizations we get.

\includegraphics{13-arithmetic_files/figure-latex/unnamed-chunk-23-1.pdf}

Pretty rad right? So yes, statistical data is vital, however it should not be the only thing you look at, sometimes a visualization can help you understand the data more! Later in this book, and in the upper level data analytics courses, we will cover visualizations more and how they can be useful.

\hypertarget{exercises-1}{%
\section{Exercises}\label{exercises-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Define
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{6}\NormalTok{)}
\NormalTok{y}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{,}\SpecialCharTok{{-}}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Decide what the result will be of the following:

  \begin{itemize}
  \tightlist
  \item
    length(x)
  \item
    sum(x)
  \item
    sum(x\^{}2)
  \item
    x+y
  \item
    x*y
  \item
    x-2
  \item
    x\^{}2
  \end{itemize}
\item
  Use R to check your answers.
\item
  Decide what the following sequences are and use R to check your answers:

  \begin{itemize}
  \tightlist
  \item
    7:11
  \item
    seq(2,9)
  \item
    seq(4,10,by=2)
  \item
    seq(3,30,length=10)
  \item
    seq(6,-4,by=-2)
  \end{itemize}
\item
  Determine what the result will be of the following R expressions, and then use R to check if you are right:

  \begin{itemize}
  \tightlist
  \item
    rep(2,4)
  \item
    rep(c(1,2),4)
  \item
    rep(c(1,2),c(4,4))
  \item
    rep(1:4,4)
  \item
    rep(1:4,rep(3,4))
  \end{itemize}
\item
  Use the rep function to define simply the following vectors in R.

  \begin{itemize}
  \tightlist
  \item
    6,6,6,6,6,6
  \item
    5,8,5,8,5,8,5,8
  \item
    5,5,5,5,8,8,8,8
  \end{itemize}
\end{enumerate}

\hypertarget{summaries-and-subscripting}{%
\chapter{Summaries and Subscripting}\label{summaries-and-subscripting}}

\hypertarget{introduction-2}{%
\section{Introduction}\label{introduction-2}}

Let's suppose we've collected some data from an experiment and stored them in an object x:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\FloatTok{7.5}\NormalTok{,}\FloatTok{8.2}\NormalTok{,}\FloatTok{3.1}\NormalTok{,}\FloatTok{5.6}\NormalTok{,}\FloatTok{8.2}\NormalTok{,}\FloatTok{9.3}\NormalTok{,}\FloatTok{6.5}\NormalTok{,}\FloatTok{7.0}\NormalTok{,}\FloatTok{9.3}\NormalTok{,}\FloatTok{1.2}\NormalTok{,}\FloatTok{14.5}\NormalTok{,}\FloatTok{6.2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Some simple summary statistics of these data can be produced:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{mean}\NormalTok{(x)}
\CommentTok{\#\textgreater{} [1] 7.216667}
\FunctionTok{var}\NormalTok{(x)}
\CommentTok{\#\textgreater{} [1] 11.00879}
\FunctionTok{sd}\NormalTok{(x)}
\CommentTok{\#\textgreater{} [1] 3.317949}
\FunctionTok{summary}\NormalTok{(x)}
\CommentTok{\#\textgreater{}    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. }
\CommentTok{\#\textgreater{}   1.200   6.050   7.250   7.217   8.475  14.500}
\end{Highlighting}
\end{Shaded}

which should all be self explanatory.

It may be, however, that we subsequently learn that the first 6 data points correspond to measurements made on one machine, and the second six on another machine.

This might lead us to want to summarize the two sets of data separately, so we would need to extract from
x the two relevant subvectors. This is achieved by subscripting:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{]}
\CommentTok{\#\textgreater{} [1] 7.5 8.2 3.1 5.6 8.2 9.3}
\NormalTok{x[}\DecValTok{7}\SpecialCharTok{:}\DecValTok{12}\NormalTok{]}
\CommentTok{\#\textgreater{} [1]  6.5  7.0  9.3  1.2 14.5  6.2}
\FunctionTok{summary}\NormalTok{(x[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{])}
\CommentTok{\#\textgreater{}    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. }
\CommentTok{\#\textgreater{}   3.100   6.075   7.850   6.983   8.200   9.300}
\FunctionTok{summary}\NormalTok{(x[}\DecValTok{7}\SpecialCharTok{:}\DecValTok{12}\NormalTok{])}
\CommentTok{\#\textgreater{}    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. }
\CommentTok{\#\textgreater{}   1.200   6.275   6.750   7.450   8.725  14.500}
\end{Highlighting}
\end{Shaded}

Other subsets can be created in the obvious way. For example:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{9}\NormalTok{)]}
\CommentTok{\#\textgreater{} [1] 8.2 5.6 9.3}
\end{Highlighting}
\end{Shaded}

Negative integers can be used to exclude particular elements. For example

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\SpecialCharTok{{-}}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{)]}
\CommentTok{\#\textgreater{} [1]  6.5  7.0  9.3  1.2 14.5  6.2}
\end{Highlighting}
\end{Shaded}

has the same effect as

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x[}\DecValTok{7}\SpecialCharTok{:}\DecValTok{12}\NormalTok{]}
\CommentTok{\#\textgreater{} [1]  6.5  7.0  9.3  1.2 14.5  6.2}
\end{Highlighting}
\end{Shaded}

\hypertarget{exercises-summaries-and-subscripting}{%
\section{Exercises (Summaries and Subscripting)}\label{exercises-summaries-and-subscripting}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  If x\textless- c(5,9,2,3,4,6,7,0,8,12,2,9) decide what each of the following is and use R to
  check your answers:
\end{enumerate}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\tightlist
\item
  x{[}2{]}
\item
  x{[}2:4{]}
\item
  x{[}c(2,3,6){]}
\item
  x{[}c(1:5,10:12){]}
\item
  x{[}-(10:12){]}
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  The data y\textless-c(33,44,29,16,25,45,33,19,54,22,21,49,11,24,56) contain sales of milk
  in gallons for 5 days in three different shops (the frst 3 values are for shops 1,2 and 3 on
  Monday, etc.) Produce a statistical summary of the sales for each day of the week and also
  for each shop.
\end{enumerate}

\hypertarget{matrices}{%
\chapter{Matrices}\label{matrices}}

\hypertarget{cbind-and-rbind}{%
\section{CBind and RBind}\label{cbind-and-rbind}}

Matrices can be created in R in a variety of ways. Perhaps the simplest is to create the columns (just a couple of objects) and then glue them together with the command cbind. For example,

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{9}\NormalTok{)}
\NormalTok{y}\OtherTok{\textless{}{-}}\FunctionTok{c}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{)}
\NormalTok{z}\OtherTok{\textless{}{-}}\FunctionTok{cbind}\NormalTok{(x,y)}
\NormalTok{z}
\CommentTok{\#\textgreater{}      x y}
\CommentTok{\#\textgreater{} [1,] 5 6}
\CommentTok{\#\textgreater{} [2,] 7 3}
\CommentTok{\#\textgreater{} [3,] 9 4}
\end{Highlighting}
\end{Shaded}

The dimension of a matrix can be checked with the dim command:

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{dim}\NormalTok{(z)}
\CommentTok{\#\textgreater{} [1] 3 2}
\end{Highlighting}
\end{Shaded}

{[}1{]} 3 2 i.e., three rows and two columns. There is a similar command, rbind, for building matrices by gluing rows together.

The functions cbind and rbind can also be applied to matrices themselves (provided the dimensions match) to form larger matrices. For example,

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{rbind}\NormalTok{(z,z)}
\CommentTok{\#\textgreater{}      x y}
\CommentTok{\#\textgreater{} [1,] 5 6}
\CommentTok{\#\textgreater{} [2,] 7 3}
\CommentTok{\#\textgreater{} [3,] 9 4}
\CommentTok{\#\textgreater{} [4,] 5 6}
\CommentTok{\#\textgreater{} [5,] 7 3}
\CommentTok{\#\textgreater{} [6,] 9 4}
\end{Highlighting}
\end{Shaded}

\hypertarget{review-questions}{%
\subsection{Review Questions}\label{review-questions}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  Create a matrix made up of two columns showing the GPAs and number of hours studied by seven students.
\item
  Recreate the following matrix in R:
\end{enumerate}

\begin{verbatim}
#>      x   y
#> [1,] 5 3.4
#> [2,] 7 4.0
#> [3,] 2 2.5
#> [4,] 3 3.2
#> [5,] 8 2.8
#> [6,] 4 3.1
#> [7,] 2 3.6
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\setcounter{enumi}{2}
\tightlist
\item
  Using the appropriate function, combine the two matrices you created above.
\end{enumerate}

\hypertarget{matrix-function}{%
\section{Matrix Function}\label{matrix-function}}

Matrices can also be built by explicit construction via the function matrix. For example,

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{),}\AttributeTok{nrow=}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

results in a matrix z identical to z above. Notice that the dimension of the matrix is determined by the size of the vector and the requirement that the number of rows is 3, as specified by the argument nrow=3. As an alternative we could have specified the number of columns with the argument ncol=2 (obviously, it is unnecessary to give both). Notice that the matrix is `flled up' column-wise. If instead you wish to fill up row-wise, add the option byrow=T. For example,

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{),}\AttributeTok{nr=}\DecValTok{3}\NormalTok{,}\AttributeTok{byrow=}\NormalTok{T)}
\NormalTok{z}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    5    7}
\CommentTok{\#\textgreater{} [2,]    9    6}
\CommentTok{\#\textgreater{} [3,]    3    4}
\end{Highlighting}
\end{Shaded}

Notice that the argument nrow has been abbreviated to nr. Such abbreviations are always possible for function arguments provided it induces no ambiguity - if in doubt always use the full argument name.

As usual, R will try to interpret operations on matrices in a natural way. For example, with z as above, and

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y}\OtherTok{\textless{}{-}}\FunctionTok{matrix}\NormalTok{(}\FunctionTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{0}\NormalTok{,}\DecValTok{9}\NormalTok{,}\DecValTok{5}\NormalTok{,}\SpecialCharTok{{-}}\DecValTok{1}\NormalTok{),}\AttributeTok{nrow=}\DecValTok{3}\NormalTok{,}\AttributeTok{byrow=}\NormalTok{T)}
\NormalTok{y}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    1    3}
\CommentTok{\#\textgreater{} [2,]    0    9}
\CommentTok{\#\textgreater{} [3,]    5   {-}1}
\end{Highlighting}
\end{Shaded}

we obtain

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y}\SpecialCharTok{+}\NormalTok{z}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    6   10}
\CommentTok{\#\textgreater{} [2,]    9   15}
\CommentTok{\#\textgreater{} [3,]    8    3}
\end{Highlighting}
\end{Shaded}

and

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y}\SpecialCharTok{*}\NormalTok{z}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    5   21}
\CommentTok{\#\textgreater{} [2,]    0   54}
\CommentTok{\#\textgreater{} [3,]   15   {-}4}
\end{Highlighting}
\end{Shaded}

Other useful functions on matrices are to transpose a matrix:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    5    7}
\CommentTok{\#\textgreater{} [2,]    9    6}
\CommentTok{\#\textgreater{} [3,]    3    4}
\FunctionTok{t}\NormalTok{(z)}
\CommentTok{\#\textgreater{}      [,1] [,2] [,3]}
\CommentTok{\#\textgreater{} [1,]    5    9    3}
\CommentTok{\#\textgreater{} [2,]    7    6    4}
\end{Highlighting}
\end{Shaded}

As with vectors it is useful to be able to extract sub-components of matrices. In this case, wemay wish to pick out individual elements, rows or columns. As before, the {[} {]} notation is used to subscript. The following examples should make things clear:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z[}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]}
\CommentTok{\#\textgreater{} [1] 5}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z[}\FunctionTok{c}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{),}\DecValTok{2}\NormalTok{]}
\CommentTok{\#\textgreater{} [1] 6 4}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z[,}\DecValTok{2}\NormalTok{]}
\CommentTok{\#\textgreater{} [1] 7 6 4}
\end{Highlighting}
\end{Shaded}

\begin{quote}
\end{quote}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{2}\NormalTok{,]}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    5    7}
\CommentTok{\#\textgreater{} [2,]    9    6}
\end{Highlighting}
\end{Shaded}

So, in particular, it is necessary to specify which rows and columns are required, whilst omitting
the integer for either dimension implies that every element in that dimension is selected.

\hypertarget{exercises-2}{%
\section{Exercises}\label{exercises-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create this matrix in R
\end{enumerate}

\begin{verbatim}
#>      [,1] [,2] [,3] [,4] [,5]
#> [1,]    1    7    8   11   -5
#> [2,]    3    8    6    3   -9
#> [3,]    0   11   14   14   14
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Create in R these matrices:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    1    7}
\CommentTok{\#\textgreater{} [2,]    8   11}
\CommentTok{\#\textgreater{} [3,]    5    9}
\NormalTok{y}
\CommentTok{\#\textgreater{}      [,1] [,2]}
\CommentTok{\#\textgreater{} [1,]    6    8}
\CommentTok{\#\textgreater{} [2,]    2    1}
\CommentTok{\#\textgreater{} [3,]    1   {-}7}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Calculate the following and check your answers in R:
\end{enumerate}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\tightlist
\item
  2*x
\item
  x*x
\item
  t(y)
\end{enumerate}

\begin{verbatim}
#>      [,1] [,2]
#> [1,]    2   14
#> [2,]   16   22
#> [3,]   10   18
#>      [,1] [,2]
#> [1,]    1   49
#> [2,]   64  121
#> [3,]   25   81
#>      [,1] [,2] [,3]
#> [1,]    6    2    1
#> [2,]    8    1   -7
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  With x and y as above, calculate the effect of the following subscript operations and check
  your answers in R.
\end{enumerate}

\begin{enumerate}
\def\labelenumi{(\alph{enumi})}
\tightlist
\item
  x{[}1,{]}
\item
  x{[}2,{]}
\item
  x{[},2{]}
\item
  y{[}1,2{]}
\item
  y{[},2:3{]}
\end{enumerate}

\hypertarget{preloaded-data-and-mtcars}{%
\chapter{\texorpdfstring{Preloaded data and \texttt{mtcars}}{Preloaded data and mtcars}}\label{preloaded-data-and-mtcars}}

R comes with several built-in data sets, \textbf{which are generally used as demo data for playing with R functions.}

To see the datasets type:

\texttt{mtcars}

\hypertarget{practicing-with-mtcars-data-set}{%
\section{\texorpdfstring{Practicing with \texttt{mtcars} data set}{Practicing with mtcars data set}}\label{practicing-with-mtcars-data-set}}

This demonstration is based on the datasset \texttt{mtcars}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Read in \texttt{mtcars}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{data}\NormalTok{(mtcars)}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  View first few rows and last few rows of mtcars dataframe using functions \texttt{head()} and \texttt{tail()}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}                    mpg cyl disp  hp drat    wt  qsec vs am}
\CommentTok{\#\textgreater{} Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1}
\CommentTok{\#\textgreater{} Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1}
\CommentTok{\#\textgreater{} Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1}
\CommentTok{\#\textgreater{} Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0}
\CommentTok{\#\textgreater{} Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0}
\CommentTok{\#\textgreater{} Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0}
\CommentTok{\#\textgreater{}                   gear carb}
\CommentTok{\#\textgreater{} Mazda RX4            4    4}
\CommentTok{\#\textgreater{} Mazda RX4 Wag        4    4}
\CommentTok{\#\textgreater{} Datsun 710           4    1}
\CommentTok{\#\textgreater{} Hornet 4 Drive       3    1}
\CommentTok{\#\textgreater{} Hornet Sportabout    3    2}
\CommentTok{\#\textgreater{} Valiant              3    1}
\FunctionTok{tail}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}                 mpg cyl  disp  hp drat    wt qsec vs am}
\CommentTok{\#\textgreater{} Porsche 914{-}2  26.0   4 120.3  91 4.43 2.140 16.7  0  1}
\CommentTok{\#\textgreater{} Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1}
\CommentTok{\#\textgreater{} Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1}
\CommentTok{\#\textgreater{} Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1}
\CommentTok{\#\textgreater{} Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1}
\CommentTok{\#\textgreater{} Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.6  1  1}
\CommentTok{\#\textgreater{}                gear carb}
\CommentTok{\#\textgreater{} Porsche 914{-}2     5    2}
\CommentTok{\#\textgreater{} Lotus Europa      5    2}
\CommentTok{\#\textgreater{} Ford Pantera L    5    4}
\CommentTok{\#\textgreater{} Ferrari Dino      5    6}
\CommentTok{\#\textgreater{} Maserati Bora     5    8}
\CommentTok{\#\textgreater{} Volvo 142E        4    2}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Some info about mtcars dataframe using function \texttt{colnames()}, \texttt{rownames()}, \texttt{summary()}and \texttt{dim()}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{colnames}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}  [1] "mpg"  "cyl"  "disp" "hp"   "drat" "wt"   "qsec" "vs"  }
\CommentTok{\#\textgreater{}  [9] "am"   "gear" "carb"}
\FunctionTok{rownames}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}  [1] "Mazda RX4"           "Mazda RX4 Wag"      }
\CommentTok{\#\textgreater{}  [3] "Datsun 710"          "Hornet 4 Drive"     }
\CommentTok{\#\textgreater{}  [5] "Hornet Sportabout"   "Valiant"            }
\CommentTok{\#\textgreater{}  [7] "Duster 360"          "Merc 240D"          }
\CommentTok{\#\textgreater{}  [9] "Merc 230"            "Merc 280"           }
\CommentTok{\#\textgreater{} [11] "Merc 280C"           "Merc 450SE"         }
\CommentTok{\#\textgreater{} [13] "Merc 450SL"          "Merc 450SLC"        }
\CommentTok{\#\textgreater{} [15] "Cadillac Fleetwood"  "Lincoln Continental"}
\CommentTok{\#\textgreater{} [17] "Chrysler Imperial"   "Fiat 128"           }
\CommentTok{\#\textgreater{} [19] "Honda Civic"         "Toyota Corolla"     }
\CommentTok{\#\textgreater{} [21] "Toyota Corona"       "Dodge Challenger"   }
\CommentTok{\#\textgreater{} [23] "AMC Javelin"         "Camaro Z28"         }
\CommentTok{\#\textgreater{} [25] "Pontiac Firebird"    "Fiat X1{-}9"          }
\CommentTok{\#\textgreater{} [27] "Porsche 914{-}2"       "Lotus Europa"       }
\CommentTok{\#\textgreater{} [29] "Ford Pantera L"      "Ferrari Dino"       }
\CommentTok{\#\textgreater{} [31] "Maserati Bora"       "Volvo 142E"}
\FunctionTok{summary}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}       mpg             cyl             disp      }
\CommentTok{\#\textgreater{}  Min.   :10.40   Min.   :4.000   Min.   : 71.1  }
\CommentTok{\#\textgreater{}  1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8  }
\CommentTok{\#\textgreater{}  Median :19.20   Median :6.000   Median :196.3  }
\CommentTok{\#\textgreater{}  Mean   :20.09   Mean   :6.188   Mean   :230.7  }
\CommentTok{\#\textgreater{}  3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0  }
\CommentTok{\#\textgreater{}  Max.   :33.90   Max.   :8.000   Max.   :472.0  }
\CommentTok{\#\textgreater{}        hp             drat             wt       }
\CommentTok{\#\textgreater{}  Min.   : 52.0   Min.   :2.760   Min.   :1.513  }
\CommentTok{\#\textgreater{}  1st Qu.: 96.5   1st Qu.:3.080   1st Qu.:2.581  }
\CommentTok{\#\textgreater{}  Median :123.0   Median :3.695   Median :3.325  }
\CommentTok{\#\textgreater{}  Mean   :146.7   Mean   :3.597   Mean   :3.217  }
\CommentTok{\#\textgreater{}  3rd Qu.:180.0   3rd Qu.:3.920   3rd Qu.:3.610  }
\CommentTok{\#\textgreater{}  Max.   :335.0   Max.   :4.930   Max.   :5.424  }
\CommentTok{\#\textgreater{}       qsec             vs               am        }
\CommentTok{\#\textgreater{}  Min.   :14.50   Min.   :0.0000   Min.   :0.0000  }
\CommentTok{\#\textgreater{}  1st Qu.:16.89   1st Qu.:0.0000   1st Qu.:0.0000  }
\CommentTok{\#\textgreater{}  Median :17.71   Median :0.0000   Median :0.0000  }
\CommentTok{\#\textgreater{}  Mean   :17.85   Mean   :0.4375   Mean   :0.4062  }
\CommentTok{\#\textgreater{}  3rd Qu.:18.90   3rd Qu.:1.0000   3rd Qu.:1.0000  }
\CommentTok{\#\textgreater{}  Max.   :22.90   Max.   :1.0000   Max.   :1.0000  }
\CommentTok{\#\textgreater{}       gear            carb      }
\CommentTok{\#\textgreater{}  Min.   :3.000   Min.   :1.000  }
\CommentTok{\#\textgreater{}  1st Qu.:3.000   1st Qu.:2.000  }
\CommentTok{\#\textgreater{}  Median :4.000   Median :2.000  }
\CommentTok{\#\textgreater{}  Mean   :3.688   Mean   :2.812  }
\CommentTok{\#\textgreater{}  3rd Qu.:4.000   3rd Qu.:4.000  }
\CommentTok{\#\textgreater{}  Max.   :5.000   Max.   :8.000}
\FunctionTok{dim}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{} [1] 32 11}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  To calculate the variance of weight:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{var}\NormalTok{(mtcars}\SpecialCharTok{$}\NormalTok{wt)}
\CommentTok{\#\textgreater{} [1] 0.957379}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  To get the histogram of hp, the code below will produce a histogram:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{hist}\NormalTok{(mtcars}\SpecialCharTok{$}\NormalTok{hp)}
\end{Highlighting}
\end{Shaded}

\includegraphics{16-mtcars_files/figure-latex/unnamed-chunk-5-1.pdf}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  To calculate the quantiles by percent:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{quantile}\NormalTok{(mtcars}\SpecialCharTok{$}\NormalTok{wt, }\FunctionTok{c}\NormalTok{(.}\DecValTok{2}\NormalTok{, .}\DecValTok{4}\NormalTok{, .}\DecValTok{8}\NormalTok{))}
\CommentTok{\#\textgreater{}   20\%   40\%   80\% }
\CommentTok{\#\textgreater{} 2.349 3.158 3.770}
\end{Highlighting}
\end{Shaded}

\hypertarget{excerises-for-you}{%
\section{Excerises for you:}\label{excerises-for-you}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Find the minimum and maximum value of \texttt{mpg}
\item
  Find the mean and standard deviation of data variable \texttt{mpg}
\item
  What variable has a 3rd quartile value of 180.0?
\item
  Create and explain what this means
\end{enumerate}

\includegraphics{16-mtcars_files/figure-latex/unnamed-chunk-7-1.pdf}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Create and explain what this means
\end{enumerate}

\begin{verbatim}
#>             mpg        cyl       disp         hp
#> mpg   1.0000000 -0.8521620 -0.8475514 -0.7761684
#> cyl  -0.8521620  1.0000000  0.9020329  0.8324475
#> disp -0.8475514  0.9020329  1.0000000  0.7909486
#> hp   -0.7761684  0.8324475  0.7909486  1.0000000
#> drat  0.6811719 -0.6999381 -0.7102139 -0.4487591
#> wt   -0.8676594  0.7824958  0.8879799  0.6587479
#> qsec  0.4186840 -0.5912421 -0.4336979 -0.7082234
#> vs    0.6640389 -0.8108118 -0.7104159 -0.7230967
#> am    0.5998324 -0.5226070 -0.5912270 -0.2432043
#> gear  0.4802848 -0.4926866 -0.5555692 -0.1257043
#> carb -0.5509251  0.5269883  0.3949769  0.7498125
#>             drat         wt        qsec         vs
#> mpg   0.68117191 -0.8676594  0.41868403  0.6640389
#> cyl  -0.69993811  0.7824958 -0.59124207 -0.8108118
#> disp -0.71021393  0.8879799 -0.43369788 -0.7104159
#> hp   -0.44875912  0.6587479 -0.70822339 -0.7230967
#> drat  1.00000000 -0.7124406  0.09120476  0.4402785
#> wt   -0.71244065  1.0000000 -0.17471588 -0.5549157
#> qsec  0.09120476 -0.1747159  1.00000000  0.7445354
#> vs    0.44027846 -0.5549157  0.74453544  1.0000000
#> am    0.71271113 -0.6924953 -0.22986086  0.1683451
#> gear  0.69961013 -0.5832870 -0.21268223  0.2060233
#> carb -0.09078980  0.4276059 -0.65624923 -0.5696071
#>               am       gear        carb
#> mpg   0.59983243  0.4802848 -0.55092507
#> cyl  -0.52260705 -0.4926866  0.52698829
#> disp -0.59122704 -0.5555692  0.39497686
#> hp   -0.24320426 -0.1257043  0.74981247
#> drat  0.71271113  0.6996101 -0.09078980
#> wt   -0.69249526 -0.5832870  0.42760594
#> qsec -0.22986086 -0.2126822 -0.65624923
#> vs    0.16834512  0.2060233 -0.56960714
#> am    1.00000000  0.7940588  0.05753435
#> gear  0.79405876  1.0000000  0.27407284
#> carb  0.05753435  0.2740728  1.00000000
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Create a variable called \texttt{efficiency} which is mpg divided by weight. Which car has the max \texttt{efficiency} and what is this value?
\item
  Which variable in this dataset has the greatest standard deviation?
\item
  How many cars have 3 gears?
\item
  How many cars get more than 17 mpg?
\end{enumerate}

\hypertarget{gdh-ice-cream}{%
\chapter{GDH Ice Cream}\label{gdh-ice-cream}}

\hypertarget{problem-introduction}{%
\section{Problem Introduction}\label{problem-introduction}}

GDH provides ice cream for its wonderful customers. I LOVE GDH. Do you love it as much as me (let's discuss)?

In the last three years GDH used ice cream, in pounds, by month, as shown in the attached file.

\begin{verbatim}
#>  Month.Name year1 year2 year3
#>         Jan    60    67    64
#>         Feb    68    67    72
#>         Mar    83    62    61
#>         Apr   102    95   107
#>         May    95   105   101
#>         Jun    57    89    75
#>         Jul    61    57    81
#>         Aug   109   109   104
#>         Sep    56    86    88
#>         Oct    53    53    65
#>         Nov    74    72    72
#>         Dec    73    64    65
\end{verbatim}

\hypertarget{assignment}{%
\section{Assignment}\label{assignment}}

Please answer the following questions \emph{using R}:.

GDH provides ice cream cones for its customers. In the last three years GDH used ice cream, in pounds, by month, as shown in the attached file.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  In R, create the above data frame and name it ice.cream
\item
  What is another way you could have created the same data set?
\item
  Using R, what is the mean using for the months of Feb and Oct?
\item
  Create a chart showing ice cream use over time.
\item
  Which year used the most ice cream?
\item
  Which month has the highest standard deviation of ice cream use?
\item
  Which year has the highest standard deviation of ice cream use?
\item
  Also, you May want to check out this link to look at something called dataframes that may help with this assignment (but is not absolutely necessary) \url{https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/data.frame}
\item
  Can you transpose your matrix?
\item
  Can you add meaningful row names and column names?
\end{enumerate}

\hypertarget{more-dplyr}{%
\chapter{More DPLYR}\label{more-dplyr}}

\hypertarget{introduction-3}{%
\section{Introduction}\label{introduction-3}}

For more help \textbf{PLEASE} check out \href{https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html}{Introduction to dplyr} introducing the key functionality of the dplyr package.

\begin{quote}
Your life is about to change. \textbf{For the better, even.}
\end{quote}

\hypertarget{single-table-verbs}{%
\section{Single table verbs}\label{single-table-verbs}}

\texttt{dplyr} aims to provide a function for each basic verb of data manipulation. These verbs can be organised into three categories based on the component of the dataset that they work with:

Rows:

\begin{itemize}
\tightlist
\item
  \texttt{filter()} chooses rows based on column values.
\item
  \texttt{slice()} chooses rows based on location.
\item
  \texttt{arrange()} changes the order of the rows.
\end{itemize}

Columns:

\begin{itemize}
\tightlist
\item
  \texttt{select()} changes whether or not a column is included.
\item
  \texttt{rename()} changes the name of columns.
\item
  \texttt{mutate()} changes the values of columns and creates new columns.
\item
  \texttt{relocate()} changes the order of the columns.
  Groups of rows:
\item
  \texttt{summarise()} collapses a group into a single row. Itâs not that useful until we learn \texttt{group\_by()}
\item
  \texttt{group\_by()} usually works with \texttt{summarise()}
\end{itemize}

\hypertarget{more-with-the-pipe}{%
\section{More with the pipe}\label{more-with-the-pipe}}

All of the \texttt{dplyr} functions take a data frame (or tibble) as the first argument. Rather than forcing the user to either save intermediate objects or nest functions, dplyr provides the \texttt{\%\textgreater{}\%} operator from \texttt{magrittr}. One step is then âpipedâ into the next step. You can use the pipe to rewrite multiple operations that you can read left-to-right, top-to-bottom (reading the pipe operator as âthenâ).

\begin{quote}
What is this: \texttt{\%\textgreater{}\%}?
\end{quote}

\hypertarget{loading-dplyr-and-the-starwars-dataset}{%
\section{\texorpdfstring{Loading \texttt{dplyr} and the \texttt{starwars} dataset}{Loading dplyr and the starwars dataset}}\label{loading-dplyr-and-the-starwars-dataset}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# You should already have done this but you\textquotesingle{}ll need it}
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"dplyr"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(dplyr)}

\NormalTok{starwars }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{filter}\NormalTok{(species }\SpecialCharTok{==} \StringTok{"Droid"}\NormalTok{)}


\NormalTok{starwars }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{select}\NormalTok{(name, }\FunctionTok{ends\_with}\NormalTok{(}\StringTok{"color"}\NormalTok{))}


\NormalTok{starwars }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(name, }\AttributeTok{bmi =}\NormalTok{ mass }\SpecialCharTok{/}\NormalTok{ ((height }\SpecialCharTok{/} \DecValTok{100}\NormalTok{)  }\SpecialCharTok{\^{}} \DecValTok{2}\NormalTok{)) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{select}\NormalTok{(name}\SpecialCharTok{:}\NormalTok{mass, bmi)}


\NormalTok{starwars }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(mass))}

\NormalTok{starwars }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(species) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}
    \AttributeTok{n =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{mass =} \FunctionTok{mean}\NormalTok{(mass, }\AttributeTok{na.rm =} \ConstantTok{TRUE}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(}
\NormalTok{    n }\SpecialCharTok{\textgreater{}} \DecValTok{1}\NormalTok{,}
\NormalTok{    mass }\SpecialCharTok{\textgreater{}} \DecValTok{50}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\hypertarget{starwars-excercises}{%
\section{\texorpdfstring{\texttt{starwars} Excercises}{starwars Excercises}}\label{starwars-excercises}}

Please use the \texttt{starwars} dataset from the \texttt{dplyr} package to answer the following questions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How may humans are in this dataset?
\item
  How many characters are taller than 89 cm?
\item
  How many characters are taller than 37 inches?
\item
  How many characters are taller than 37 inches and weigh more than 55 pounds?
\item
  How many characters are not human or droid?
\item
  How many characters are not human or droid and are taller than 47 inches?
\item
  Which species has the most individuals included in this data set?
\item
  Which species has the tallest individuals on average?
\item
  What is the tallest individual for each species?
\item
  Calculate the BMI for each individual and determine which individual has the highest BMI. Use the formula \texttt{bmi\ =\ mass/((height/100)\^{}2)} to calculate bmi.
\item
  Which homeworld has the most individuals included in this data set?
\item
  Which homeworld has the tallest individuals on average?
\item
  What is the tallest individual for each eye color?
\end{enumerate}

\#Comprehensive DPLYR Practice

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{install.packages}\NormalTok{(}\StringTok{"nycflights13"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{nycflights13-excercises}{%
\section{\texorpdfstring{\texttt{nycflights13} Excercises}{nycflights13 Excercises}}\label{nycflights13-excercises}}

Using the \texttt{nycflights13} package and the \texttt{flights} dataset use the \texttt{dplyr} package to answer these questions. Some answers are given in square brackets for you to check your answers.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How many flights in Sept were late departing flights? {[}7815{]}
\item
  How many flights in Sept were late departing flights that originated at JFK airport? {[}2649{]}
\item
  How many flights in Sept were late departing flights with an origin of JFK airport and had an destination of anywhere except MIA? {[}2572{]}
\item
  Which carrier had the most flights in this data set? {[}UA with 58665{]}
\item
  Which destination had the most flights in this data set? {[}ORD with 17283{]}
\item
  Which destination had the most flights with departure delays of greater than 60 minutes in this data set? {[}ORD with 1480{]}
\item
  What was the longest arrival delay in this dataset? {[}1272{]}
\item
  Which carrier in September had the most late departing flights? {[}UA with 1559{]}
\item
  Create a variable called total.annoyance which arrival delay plus the departure delay for each flight.
\item
  Which carrier with more than 10 flights in September had greatest \% late departing flights?
\end{enumerate}

\hypertarget{storms-excercises}{%
\section{\texorpdfstring{\texttt{storms} Excercises}{storms Excercises}}\label{storms-excercises}}

Open the \texttt{storms} data from the \texttt{dplyr} package. Use ?storms to understand the data. Then answer:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How many observations have both wind speeds of greater than 20 knots and air pressure of more 1010 millibars?
\item
  How many observations have the storm name of Ana, Ernesto, Ophelia or Isidore?
\item
  What is the average wind speed for each category of storm?
\item
  For category 4 and 5 storms (combined) what is the average pressure?
\item
  Create a variable called strength which is pressure divided by wind speed. What is the maximum strength in this data set?
\item
  Which storm has the most observations?
\item
  Which category 5 storm(s) have the greatest average wind speed?
\end{enumerate}

\hypertarget{starwars-excercises-1}{%
\section{\texorpdfstring{\texttt{starwars} Excercises}{starwars Excercises}}\label{starwars-excercises-1}}

Please use the \texttt{starwars} dataset from the \texttt{dplyr} package to answer the following questions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Which species has the most individuals included in this data set?
\item
  Which species has the tallest individuals on average?
\item
  What is the tallest individual for each species?
\item
  Calculate the BMI for each individual and determine which individual has the highest BMI. Use the formula \texttt{bmi\ =\ mass/((height/100)\^{}2)} to calculate bmi.
\item
  Which homeworld has the most individuals included in this data set?
\item
  Which homeworld has the tallest individuals on average?
\item
  What is the tallest individual for each eye color?
\end{enumerate}

\hypertarget{dplyr}{%
\chapter{DPLYR}\label{dplyr}}

\hypertarget{introduction-4}{%
\section{Introduction}\label{introduction-4}}

For more help \textbf{PLEASE} check out \href{https://dplyr.tidyverse.org/articles/dplyr.html}{Introduction to dplyr} introducing the key functionality of the dplyr package.

\begin{quote}
Your life is about to change. For the better, even.
\end{quote}

\hypertarget{single-table-verbs-1}{%
\section{Single table verbs}\label{single-table-verbs-1}}

\texttt{dplyr} aims to provide a function for each basic verb of data manipulation. These verbs can be organised into three categories based on the component of the dataset that they work with:

Rows:

\begin{itemize}
\tightlist
\item
  \texttt{filter()} chooses rows based on column values.
\item
  \texttt{slice()} chooses rows based on location.
\item
  \texttt{arrange()} changes the order of the rows.
\end{itemize}

Columns:

\begin{itemize}
\tightlist
\item
  \texttt{select()} changes whether or not a column is included.
\item
  \texttt{rename()} changes the name of columns.
  \texttt{mutate()} changes the values of columns and creates new columns.
\item
  \texttt{relocate()} changes the order of the columns.
  Groups of rows:
\item
  \texttt{summarise()} collapses a group into a single row. It's not that useful until we learn the \texttt{group\_by()} verb below.
\end{itemize}

\hypertarget{the-pipe}{%
\section{The pipe}\label{the-pipe}}

All of the \texttt{dplyr} functions take a data frame (or tibble) as the first argument. Rather than forcing the user to either save intermediate objects or nest functions, dplyr provides the \texttt{\%\textgreater{}\%} operator from magrittr. x \%\textgreater\% f(y) turns into f(x, y) so the result from one step is then ``piped'' into the next step. You can use the pipe to rewrite multiple operations that you can read left-to-right, top-to-bottom (reading the pipe operator as ``then'').

\hypertarget{loading-dplyr-and-the-nycflights13-dataset}{%
\section{Loading dplyr and the nycflights13 dataset}\label{loading-dplyr-and-the-nycflights13-dataset}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# load packages}
\FunctionTok{suppressMessages}\NormalTok{(}\FunctionTok{library}\NormalTok{(dplyr))}
\FunctionTok{library}\NormalTok{(nycflights13)}

\CommentTok{\# print the flights dataset from nycflights13}
\FunctionTok{head}\NormalTok{(flights)}
\CommentTok{\#\textgreater{} \# A tibble: 6 x 19}
\CommentTok{\#\textgreater{}    year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}   \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{} 1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{} 2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{} 3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{} 4  2013     1     1      544            545        {-}1}
\CommentTok{\#\textgreater{} 5  2013     1     1      554            600        {-}6}
\CommentTok{\#\textgreater{} 6  2013     1     1      554            558        {-}4}
\CommentTok{\#\textgreater{} \# ... with 13 more variables: arr\_time \textless{}int\textgreater{},}
\CommentTok{\#\textgreater{} \#   sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{}, carrier \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{}, origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   air\_time \textless{}dbl\textgreater{}, distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   minute \textless{}dbl\textgreater{}, time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{choosing-columns-select-rename}{%
\section{Choosing columns: select, rename}\label{choosing-columns-select-rename}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# besides just using select() to pick columns...}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(carrier, flight)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 2}
\CommentTok{\#\textgreater{}    carrier flight}
\CommentTok{\#\textgreater{}    \textless{}chr\textgreater{}    \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1 UA        1545}
\CommentTok{\#\textgreater{}  2 UA        1714}
\CommentTok{\#\textgreater{}  3 AA        1141}
\CommentTok{\#\textgreater{}  4 B6         725}
\CommentTok{\#\textgreater{}  5 DL         461}
\CommentTok{\#\textgreater{}  6 UA        1696}
\CommentTok{\#\textgreater{}  7 B6         507}
\CommentTok{\#\textgreater{}  8 EV        5708}
\CommentTok{\#\textgreater{}  9 B6          79}
\CommentTok{\#\textgreater{} 10 AA         301}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows}

\CommentTok{\# ...you can use the minus sign to hide columns}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{month, }\SpecialCharTok{{-}}\NormalTok{day)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 17}
\CommentTok{\#\textgreater{}     year dep\_time sched\_dep\_time dep\_delay arr\_time}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}    \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013      517            515         2      830}
\CommentTok{\#\textgreater{}  2  2013      533            529         4      850}
\CommentTok{\#\textgreater{}  3  2013      542            540         2      923}
\CommentTok{\#\textgreater{}  4  2013      544            545        {-}1     1004}
\CommentTok{\#\textgreater{}  5  2013      554            600        {-}6      812}
\CommentTok{\#\textgreater{}  6  2013      554            558        {-}4      740}
\CommentTok{\#\textgreater{}  7  2013      555            600        {-}5      913}
\CommentTok{\#\textgreater{}  8  2013      557            600        {-}3      709}
\CommentTok{\#\textgreater{}  9  2013      557            600        {-}3      838}
\CommentTok{\#\textgreater{} 10  2013      558            600        {-}2      753}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows, and 12 more variables:}
\CommentTok{\#\textgreater{} \#   sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{}, carrier \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{}, origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   air\_time \textless{}dbl\textgreater{}, distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   minute \textless{}dbl\textgreater{}, time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# hide a range of columns}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\NormalTok{(dep\_time}\SpecialCharTok{:}\NormalTok{arr\_delay))}

\CommentTok{\# hide any column with a matching name}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(}\SpecialCharTok{{-}}\FunctionTok{contains}\NormalTok{(}\StringTok{"time"}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# pick columns using a character vector of column names}
\NormalTok{cols }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}\StringTok{"carrier"}\NormalTok{, }\StringTok{"flight"}\NormalTok{, }\StringTok{"tailnum"}\NormalTok{)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(}\FunctionTok{one\_of}\NormalTok{(cols))}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 3}
\CommentTok{\#\textgreater{}    carrier flight tailnum}
\CommentTok{\#\textgreater{}    \textless{}chr\textgreater{}    \textless{}int\textgreater{} \textless{}chr\textgreater{}  }
\CommentTok{\#\textgreater{}  1 UA        1545 N14228 }
\CommentTok{\#\textgreater{}  2 UA        1714 N24211 }
\CommentTok{\#\textgreater{}  3 AA        1141 N619AA }
\CommentTok{\#\textgreater{}  4 B6         725 N804JB }
\CommentTok{\#\textgreater{}  5 DL         461 N668DN }
\CommentTok{\#\textgreater{}  6 UA        1696 N39463 }
\CommentTok{\#\textgreater{}  7 B6         507 N516JB }
\CommentTok{\#\textgreater{}  8 EV        5708 N829AS }
\CommentTok{\#\textgreater{}  9 B6          79 N593JB }
\CommentTok{\#\textgreater{} 10 AA         301 N3ALAA }
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# select() can be used to rename columns, though all columns not mentioned are dropped}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(}\AttributeTok{tail =}\NormalTok{ tailnum)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 1}
\CommentTok{\#\textgreater{}    tail  }
\CommentTok{\#\textgreater{}    \textless{}chr\textgreater{} }
\CommentTok{\#\textgreater{}  1 N14228}
\CommentTok{\#\textgreater{}  2 N24211}
\CommentTok{\#\textgreater{}  3 N619AA}
\CommentTok{\#\textgreater{}  4 N804JB}
\CommentTok{\#\textgreater{}  5 N668DN}
\CommentTok{\#\textgreater{}  6 N39463}
\CommentTok{\#\textgreater{}  7 N516JB}
\CommentTok{\#\textgreater{}  8 N829AS}
\CommentTok{\#\textgreater{}  9 N593JB}
\CommentTok{\#\textgreater{} 10 N3ALAA}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows}

\CommentTok{\# rename() does the same thing, except all columns not mentioned are kept}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rename}\NormalTok{(}\AttributeTok{tail =}\NormalTok{ tailnum)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 19}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{}  2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{}  3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{}  4  2013     1     1      544            545        {-}1}
\CommentTok{\#\textgreater{}  5  2013     1     1      554            600        {-}6}
\CommentTok{\#\textgreater{}  6  2013     1     1      554            558        {-}4}
\CommentTok{\#\textgreater{}  7  2013     1     1      555            600        {-}5}
\CommentTok{\#\textgreater{}  8  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{}  9  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{} 10  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tail \textless{}chr\textgreater{}, origin \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{}, distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   minute \textless{}dbl\textgreater{}, time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{choosing-rows-filter-between-slice-sample_n-top_n-distinct}{%
\section{Choosing rows: filter, between, slice, sample\_n, top\_n, distinct}\label{choosing-rows-filter-between-slice-sample_n-top_n-distinct}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# filter() supports the use of multiple conditions}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(dep\_time }\SpecialCharTok{\textgreater{}=} \DecValTok{600}\NormalTok{, dep\_time }\SpecialCharTok{\textless{}=} \DecValTok{605}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 2,460 x 19}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      600            600         0}
\CommentTok{\#\textgreater{}  2  2013     1     1      600            600         0}
\CommentTok{\#\textgreater{}  3  2013     1     1      601            600         1}
\CommentTok{\#\textgreater{}  4  2013     1     1      602            610        {-}8}
\CommentTok{\#\textgreater{}  5  2013     1     1      602            605        {-}3}
\CommentTok{\#\textgreater{}  6  2013     1     2      600            600         0}
\CommentTok{\#\textgreater{}  7  2013     1     2      600            605        {-}5}
\CommentTok{\#\textgreater{}  8  2013     1     2      600            600         0}
\CommentTok{\#\textgreater{}  9  2013     1     2      600            600         0}
\CommentTok{\#\textgreater{} 10  2013     1     2      600            600         0}
\CommentTok{\#\textgreater{} \# ... with 2,450 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# between() is a concise alternative for determing if numeric values fall in a range}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(}\FunctionTok{between}\NormalTok{(dep\_time, }\DecValTok{600}\NormalTok{, }\DecValTok{605}\NormalTok{))}

\CommentTok{\# side note: is.na() can also be useful when filtering}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{filter}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{is.na}\NormalTok{(dep\_time))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# slice() filters rows by position}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{slice}\NormalTok{(}\DecValTok{1000}\SpecialCharTok{:}\DecValTok{1005}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 6 x 19}
\CommentTok{\#\textgreater{}    year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}   \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{} 1  2013     1     2      809            810        {-}1}
\CommentTok{\#\textgreater{} 2  2013     1     2      810            800        10}
\CommentTok{\#\textgreater{} 3  2013     1     2      811            815        {-}4}
\CommentTok{\#\textgreater{} 4  2013     1     2      811            815        {-}4}
\CommentTok{\#\textgreater{} 5  2013     1     2      811            820        {-}9}
\CommentTok{\#\textgreater{} 6  2013     1     2      815            815         0}
\CommentTok{\#\textgreater{} \# ... with 13 more variables: arr\_time \textless{}int\textgreater{},}
\CommentTok{\#\textgreater{} \#   sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{}, carrier \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{}, origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   air\_time \textless{}dbl\textgreater{}, distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   minute \textless{}dbl\textgreater{}, time\_hour \textless{}dttm\textgreater{}}

\CommentTok{\# keep the first three rows within each group}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{slice}\NormalTok{(}\DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 1,095 x 19}
\CommentTok{\#\textgreater{} \# Groups:   month, day [365]}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{}  2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{}  3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{}  4  2013     1     2       42           2359        43}
\CommentTok{\#\textgreater{}  5  2013     1     2      126           2250       156}
\CommentTok{\#\textgreater{}  6  2013     1     2      458            500        {-}2}
\CommentTok{\#\textgreater{}  7  2013     1     3       32           2359        33}
\CommentTok{\#\textgreater{}  8  2013     1     3       50           2145       185}
\CommentTok{\#\textgreater{}  9  2013     1     3      235           2359       156}
\CommentTok{\#\textgreater{} 10  2013     1     4       25           2359        26}
\CommentTok{\#\textgreater{} \# ... with 1,085 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}

\CommentTok{\# sample three rows from each group}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{sample\_n}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 1,095 x 19}
\CommentTok{\#\textgreater{} \# Groups:   month, day [365]}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      746            746         0}
\CommentTok{\#\textgreater{}  2  2013     1     1     1021           1023        {-}2}
\CommentTok{\#\textgreater{}  3  2013     1     1     1455           1459        {-}4}
\CommentTok{\#\textgreater{}  4  2013     1     2      714            715        {-}1}
\CommentTok{\#\textgreater{}  5  2013     1     2     2036           2035         1}
\CommentTok{\#\textgreater{}  6  2013     1     2      955           1000        {-}5}
\CommentTok{\#\textgreater{}  7  2013     1     3     1418           1357        21}
\CommentTok{\#\textgreater{}  8  2013     1     3     1732           1730         2}
\CommentTok{\#\textgreater{}  9  2013     1     3     1918           1900        18}
\CommentTok{\#\textgreater{} 10  2013     1     4      754            759        {-}5}
\CommentTok{\#\textgreater{} \# ... with 1,085 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}

\CommentTok{\# keep three rows from each group with the top dep\_delay}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{top\_n}\NormalTok{(}\DecValTok{3}\NormalTok{, dep\_delay)}
\CommentTok{\#\textgreater{} \# A tibble: 1,108 x 19}
\CommentTok{\#\textgreater{} \# Groups:   month, day [365]}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      848           1835       853}
\CommentTok{\#\textgreater{}  2  2013     1     1     1815           1325       290}
\CommentTok{\#\textgreater{}  3  2013     1     1     2343           1724       379}
\CommentTok{\#\textgreater{}  4  2013     1     2     1412            838       334}
\CommentTok{\#\textgreater{}  5  2013     1     2     1607           1030       337}
\CommentTok{\#\textgreater{}  6  2013     1     2     2131           1512       379}
\CommentTok{\#\textgreater{}  7  2013     1     3     2008           1540       268}
\CommentTok{\#\textgreater{}  8  2013     1     3     2012           1600       252}
\CommentTok{\#\textgreater{}  9  2013     1     3     2056           1605       291}
\CommentTok{\#\textgreater{} 10  2013     1     4     2058           1730       208}
\CommentTok{\#\textgreater{} \# ... with 1,098 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}

\CommentTok{\# also sort by dep\_delay within each group}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{top\_n}\NormalTok{(}\DecValTok{3}\NormalTok{, dep\_delay) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(dep\_delay))}
\CommentTok{\#\textgreater{} \# A tibble: 1,108 x 19}
\CommentTok{\#\textgreater{} \# Groups:   month, day [365]}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     9      641            900      1301}
\CommentTok{\#\textgreater{}  2  2013     6    15     1432           1935      1137}
\CommentTok{\#\textgreater{}  3  2013     1    10     1121           1635      1126}
\CommentTok{\#\textgreater{}  4  2013     9    20     1139           1845      1014}
\CommentTok{\#\textgreater{}  5  2013     7    22      845           1600      1005}
\CommentTok{\#\textgreater{}  6  2013     4    10     1100           1900       960}
\CommentTok{\#\textgreater{}  7  2013     3    17     2321            810       911}
\CommentTok{\#\textgreater{}  8  2013     6    27      959           1900       899}
\CommentTok{\#\textgreater{}  9  2013     7    22     2257            759       898}
\CommentTok{\#\textgreater{} 10  2013    12     5      756           1700       896}
\CommentTok{\#\textgreater{} \# ... with 1,098 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# unique rows can be identified using unique() from base R}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(origin, dest) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{unique}\NormalTok{()}
\CommentTok{\#\textgreater{} \# A tibble: 224 x 2}
\CommentTok{\#\textgreater{}    origin dest }
\CommentTok{\#\textgreater{}    \textless{}chr\textgreater{}  \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{}  1 EWR    IAH  }
\CommentTok{\#\textgreater{}  2 LGA    IAH  }
\CommentTok{\#\textgreater{}  3 JFK    MIA  }
\CommentTok{\#\textgreater{}  4 JFK    BQN  }
\CommentTok{\#\textgreater{}  5 LGA    ATL  }
\CommentTok{\#\textgreater{}  6 EWR    ORD  }
\CommentTok{\#\textgreater{}  7 EWR    FLL  }
\CommentTok{\#\textgreater{}  8 LGA    IAD  }
\CommentTok{\#\textgreater{}  9 JFK    MCO  }
\CommentTok{\#\textgreater{} 10 LGA    ORD  }
\CommentTok{\#\textgreater{} \# ... with 214 more rows}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# dplyr provides an alternative that is more "efficient"}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(origin, dest) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{distinct}\NormalTok{()}

\CommentTok{\# side note: when chaining, you don\textquotesingle{}t have to include the parentheses if there are no arguments}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{select}\NormalTok{(origin, dest) }\SpecialCharTok{\%\textgreater{}\%}\NormalTok{ distinct}
\end{Highlighting}
\end{Shaded}

\hypertarget{adding-new-variables-mutate-transmute-add_rownames}{%
\section{Adding new variables: mutate, transmute, add\_rownames}\label{adding-new-variables-mutate-transmute-add_rownames}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# mutate() creates a new variable (and keeps all existing variables)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{mutate}\NormalTok{(}\AttributeTok{speed =}\NormalTok{ distance}\SpecialCharTok{/}\NormalTok{air\_time}\SpecialCharTok{*}\DecValTok{60}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 20}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{}  2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{}  3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{}  4  2013     1     1      544            545        {-}1}
\CommentTok{\#\textgreater{}  5  2013     1     1      554            600        {-}6}
\CommentTok{\#\textgreater{}  6  2013     1     1      554            558        {-}4}
\CommentTok{\#\textgreater{}  7  2013     1     1      555            600        {-}5}
\CommentTok{\#\textgreater{}  8  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{}  9  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{} 10  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows, and 14 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}, speed \textless{}dbl\textgreater{}}

\CommentTok{\# transmute() only keeps the new variables}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{transmute}\NormalTok{(}\AttributeTok{speed =}\NormalTok{ distance}\SpecialCharTok{/}\NormalTok{air\_time}\SpecialCharTok{*}\DecValTok{60}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 1}
\CommentTok{\#\textgreater{}    speed}
\CommentTok{\#\textgreater{}    \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  370.}
\CommentTok{\#\textgreater{}  2  374.}
\CommentTok{\#\textgreater{}  3  408.}
\CommentTok{\#\textgreater{}  4  517.}
\CommentTok{\#\textgreater{}  5  394.}
\CommentTok{\#\textgreater{}  6  288.}
\CommentTok{\#\textgreater{}  7  404.}
\CommentTok{\#\textgreater{}  8  259.}
\CommentTok{\#\textgreater{}  9  405.}
\CommentTok{\#\textgreater{} 10  319.}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# example data frame with row names}
\NormalTok{mtcars }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{head}\NormalTok{()}
\CommentTok{\#\textgreater{}                    mpg cyl disp  hp drat    wt  qsec vs am}
\CommentTok{\#\textgreater{} Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1}
\CommentTok{\#\textgreater{} Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1}
\CommentTok{\#\textgreater{} Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1}
\CommentTok{\#\textgreater{} Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0}
\CommentTok{\#\textgreater{} Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0}
\CommentTok{\#\textgreater{} Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0}
\CommentTok{\#\textgreater{}                   gear carb}
\CommentTok{\#\textgreater{} Mazda RX4            4    4}
\CommentTok{\#\textgreater{} Mazda RX4 Wag        4    4}
\CommentTok{\#\textgreater{} Datsun 710           4    1}
\CommentTok{\#\textgreater{} Hornet 4 Drive       3    1}
\CommentTok{\#\textgreater{} Hornet Sportabout    3    2}
\CommentTok{\#\textgreater{} Valiant              3    1}

\CommentTok{\# add\_rownames() turns row names into an explicit variable}
\NormalTok{mtcars }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{add\_rownames}\NormalTok{(}\StringTok{"model"}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{head}\NormalTok{()}
\CommentTok{\#\textgreater{} Warning: \textasciigrave{}add\_rownames()\textasciigrave{} was deprecated in dplyr 1.0.0.}
\CommentTok{\#\textgreater{} Please use \textasciigrave{}tibble::rownames\_to\_column()\textasciigrave{} instead.}
\CommentTok{\#\textgreater{} This warning is displayed once every 8 hours.}
\CommentTok{\#\textgreater{} Call \textasciigrave{}lifecycle::last\_lifecycle\_warnings()\textasciigrave{} to see where this warning was generated.}
\CommentTok{\#\textgreater{} \# A tibble: 6 x 12}
\CommentTok{\#\textgreater{}   model        mpg   cyl  disp    hp  drat    wt  qsec    vs}
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}      \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{} 1 Mazda RX4   21       6   160   110  3.9   2.62  16.5     0}
\CommentTok{\#\textgreater{} 2 Mazda RX4\textasciitilde{}  21       6   160   110  3.9   2.88  17.0     0}
\CommentTok{\#\textgreater{} 3 Datsun 710  22.8     4   108    93  3.85  2.32  18.6     1}
\CommentTok{\#\textgreater{} 4 Hornet 4 \textasciitilde{}  21.4     6   258   110  3.08  3.22  19.4     1}
\CommentTok{\#\textgreater{} 5 Hornet Sp\textasciitilde{}  18.7     8   360   175  3.15  3.44  17.0     0}
\CommentTok{\#\textgreater{} 6 Valiant     18.1     6   225   105  2.76  3.46  20.2     1}
\CommentTok{\#\textgreater{} \# ... with 3 more variables: am \textless{}dbl\textgreater{}, gear \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carb \textless{}dbl\textgreater{}}

\CommentTok{\# side note: dplyr no longer prints row names (ever) for local data frames}
\NormalTok{mtcars }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{tbl\_df}\NormalTok{()}
\CommentTok{\#\textgreater{} Warning: \textasciigrave{}tbl\_df()\textasciigrave{} was deprecated in dplyr 1.0.0.}
\CommentTok{\#\textgreater{} Please use \textasciigrave{}tibble::as\_tibble()\textasciigrave{} instead.}
\CommentTok{\#\textgreater{} This warning is displayed once every 8 hours.}
\CommentTok{\#\textgreater{} Call \textasciigrave{}lifecycle::last\_lifecycle\_warnings()\textasciigrave{} to see where this warning was generated.}
\CommentTok{\#\textgreater{} \# A tibble: 32 x 11}
\CommentTok{\#\textgreater{}      mpg   cyl  disp    hp  drat    wt  qsec    vs    am}
\CommentTok{\#\textgreater{}    \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{} \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  21       6  160    110  3.9   2.62  16.5     0     1}
\CommentTok{\#\textgreater{}  2  21       6  160    110  3.9   2.88  17.0     0     1}
\CommentTok{\#\textgreater{}  3  22.8     4  108     93  3.85  2.32  18.6     1     1}
\CommentTok{\#\textgreater{}  4  21.4     6  258    110  3.08  3.22  19.4     1     0}
\CommentTok{\#\textgreater{}  5  18.7     8  360    175  3.15  3.44  17.0     0     0}
\CommentTok{\#\textgreater{}  6  18.1     6  225    105  2.76  3.46  20.2     1     0}
\CommentTok{\#\textgreater{}  7  14.3     8  360    245  3.21  3.57  15.8     0     0}
\CommentTok{\#\textgreater{}  8  24.4     4  147.    62  3.69  3.19  20       1     0}
\CommentTok{\#\textgreater{}  9  22.8     4  141.    95  3.92  3.15  22.9     1     0}
\CommentTok{\#\textgreater{} 10  19.2     6  168.   123  3.92  3.44  18.3     1     0}
\CommentTok{\#\textgreater{} \# ... with 22 more rows, and 2 more variables: gear \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carb \textless{}dbl\textgreater{}}
\end{Highlighting}
\end{Shaded}

\hypertarget{grouping-and-counting-summarise-tally-count-group_size-n_groups-ungroup}{%
\section{Grouping and counting: summarise, tally, count, group\_size, n\_groups, ungroup}\label{grouping-and-counting-summarise-tally-count-group_size-n_groups-ungroup}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# summarise() can be used to count the number of rows in each group}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{cnt =} \FunctionTok{n}\NormalTok{())}
\CommentTok{\#\textgreater{} \# A tibble: 12 x 2}
\CommentTok{\#\textgreater{}    month   cnt}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1     1 27004}
\CommentTok{\#\textgreater{}  2     2 24951}
\CommentTok{\#\textgreater{}  3     3 28834}
\CommentTok{\#\textgreater{}  4     4 28330}
\CommentTok{\#\textgreater{}  5     5 28796}
\CommentTok{\#\textgreater{}  6     6 28243}
\CommentTok{\#\textgreater{}  7     7 29425}
\CommentTok{\#\textgreater{}  8     8 29327}
\CommentTok{\#\textgreater{}  9     9 27574}
\CommentTok{\#\textgreater{} 10    10 28889}
\CommentTok{\#\textgreater{} 11    11 27268}
\CommentTok{\#\textgreater{} 12    12 28135}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tally() and count() can do this more concisely}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{tally}\NormalTok{()}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{count}\NormalTok{(month)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# you can sort by the count}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{cnt =} \FunctionTok{n}\NormalTok{()) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(cnt))}
\CommentTok{\#\textgreater{} \# A tibble: 12 x 2}
\CommentTok{\#\textgreater{}    month   cnt}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1     7 29425}
\CommentTok{\#\textgreater{}  2     8 29327}
\CommentTok{\#\textgreater{}  3    10 28889}
\CommentTok{\#\textgreater{}  4     3 28834}
\CommentTok{\#\textgreater{}  5     5 28796}
\CommentTok{\#\textgreater{}  6     4 28330}
\CommentTok{\#\textgreater{}  7     6 28243}
\CommentTok{\#\textgreater{}  8    12 28135}
\CommentTok{\#\textgreater{}  9     9 27574}
\CommentTok{\#\textgreater{} 10    11 27268}
\CommentTok{\#\textgreater{} 11     1 27004}
\CommentTok{\#\textgreater{} 12     2 24951}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tally() and count() have a sort parameter for this purpose}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{tally}\NormalTok{(}\AttributeTok{sort=}\ConstantTok{TRUE}\NormalTok{)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{count}\NormalTok{(month, }\AttributeTok{sort=}\ConstantTok{TRUE}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# you can sum over a specific variable instead of simply counting rows}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{dist =} \FunctionTok{sum}\NormalTok{(distance))}
\CommentTok{\#\textgreater{} \# A tibble: 12 x 2}
\CommentTok{\#\textgreater{}    month     dist}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{}    \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1     1 27188805}
\CommentTok{\#\textgreater{}  2     2 24975509}
\CommentTok{\#\textgreater{}  3     3 29179636}
\CommentTok{\#\textgreater{}  4     4 29427294}
\CommentTok{\#\textgreater{}  5     5 29974128}
\CommentTok{\#\textgreater{}  6     6 29856388}
\CommentTok{\#\textgreater{}  7     7 31149199}
\CommentTok{\#\textgreater{}  8     8 31149334}
\CommentTok{\#\textgreater{}  9     9 28711426}
\CommentTok{\#\textgreater{} 10    10 30012086}
\CommentTok{\#\textgreater{} 11    11 28639718}
\CommentTok{\#\textgreater{} 12    12 29954084}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# tally() and count() have a wt parameter for this purpose}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{tally}\NormalTok{(}\AttributeTok{wt =}\NormalTok{ distance)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{count}\NormalTok{(month, }\AttributeTok{wt =}\NormalTok{ distance)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# group\_size() returns the counts as a vector}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_size}\NormalTok{()}
\CommentTok{\#\textgreater{}  [1] 27004 24951 28834 28330 28796 28243 29425 29327 27574}
\CommentTok{\#\textgreater{} [10] 28889 27268 28135}

\CommentTok{\# n\_groups() simply reports the number of groups}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{n\_groups}\NormalTok{()}
\CommentTok{\#\textgreater{} [1] 12}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# group by two variables, summarise, arrange (output is possibly confusing)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{cnt =} \FunctionTok{n}\NormalTok{()) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(cnt)) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{print}\NormalTok{(}\AttributeTok{n =} \DecValTok{40}\NormalTok{)}
\CommentTok{\#\textgreater{} \textasciigrave{}summarise()\textasciigrave{} has grouped output by \textquotesingle{}month\textquotesingle{}. You can override using the \textasciigrave{}.groups\textasciigrave{} argument.}
\CommentTok{\#\textgreater{} \# A tibble: 365 x 3}
\CommentTok{\#\textgreater{} \# Groups:   month [12]}
\CommentTok{\#\textgreater{}    month   day   cnt}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1    11    27  1014}
\CommentTok{\#\textgreater{}  2     7    11  1006}
\CommentTok{\#\textgreater{}  3     7     8  1004}
\CommentTok{\#\textgreater{}  4     7    10  1004}
\CommentTok{\#\textgreater{}  5    12     2  1004}
\CommentTok{\#\textgreater{}  6     7    18  1003}
\CommentTok{\#\textgreater{}  7     7    25  1003}
\CommentTok{\#\textgreater{}  8     7    12  1002}
\CommentTok{\#\textgreater{}  9     7     9  1001}
\CommentTok{\#\textgreater{} 10     7    17  1001}
\CommentTok{\#\textgreater{} 11     7    31  1001}
\CommentTok{\#\textgreater{} 12     8     7  1001}
\CommentTok{\#\textgreater{} 13     8     8  1001}
\CommentTok{\#\textgreater{} 14     8    12  1001}
\CommentTok{\#\textgreater{} 15     7    22  1000}
\CommentTok{\#\textgreater{} 16     7    24  1000}
\CommentTok{\#\textgreater{} 17     8     1  1000}
\CommentTok{\#\textgreater{} 18     8     5  1000}
\CommentTok{\#\textgreater{} 19     8    15  1000}
\CommentTok{\#\textgreater{} 20    11    21  1000}
\CommentTok{\#\textgreater{} 21     7    15   999}
\CommentTok{\#\textgreater{} 22     7    19   999}
\CommentTok{\#\textgreater{} 23     7    26   999}
\CommentTok{\#\textgreater{} 24     7    29   999}
\CommentTok{\#\textgreater{} 25     8     2   999}
\CommentTok{\#\textgreater{} 26     8     9   999}
\CommentTok{\#\textgreater{} 27    11    22   999}
\CommentTok{\#\textgreater{} 28     8    16   998}
\CommentTok{\#\textgreater{} 29     7    23   997}
\CommentTok{\#\textgreater{} 30     7    30   997}
\CommentTok{\#\textgreater{} 31     8    14   997}
\CommentTok{\#\textgreater{} 32     7    16   996}
\CommentTok{\#\textgreater{} 33     8     6   996}
\CommentTok{\#\textgreater{} 34     8    19   996}
\CommentTok{\#\textgreater{} 35     9    13   996}
\CommentTok{\#\textgreater{} 36     9    26   996}
\CommentTok{\#\textgreater{} 37     9    27   996}
\CommentTok{\#\textgreater{} 38     4    15   995}
\CommentTok{\#\textgreater{} 39     6    20   995}
\CommentTok{\#\textgreater{} 40     6    26   995}
\CommentTok{\#\textgreater{} \# ... with 325 more rows}

\CommentTok{\# ungroup() before arranging to arrange across all groups}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{group\_by}\NormalTok{(month, day) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{summarise}\NormalTok{(}\AttributeTok{cnt =} \FunctionTok{n}\NormalTok{()) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{desc}\NormalTok{(cnt))}
\CommentTok{\#\textgreater{} \textasciigrave{}summarise()\textasciigrave{} has grouped output by \textquotesingle{}month\textquotesingle{}. You can override using the \textasciigrave{}.groups\textasciigrave{} argument.}
\CommentTok{\#\textgreater{} \# A tibble: 365 x 3}
\CommentTok{\#\textgreater{}    month   day   cnt}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{}  1    11    27  1014}
\CommentTok{\#\textgreater{}  2     7    11  1006}
\CommentTok{\#\textgreater{}  3     7     8  1004}
\CommentTok{\#\textgreater{}  4     7    10  1004}
\CommentTok{\#\textgreater{}  5    12     2  1004}
\CommentTok{\#\textgreater{}  6     7    18  1003}
\CommentTok{\#\textgreater{}  7     7    25  1003}
\CommentTok{\#\textgreater{}  8     7    12  1002}
\CommentTok{\#\textgreater{}  9     7     9  1001}
\CommentTok{\#\textgreater{} 10     7    17  1001}
\CommentTok{\#\textgreater{} \# ... with 355 more rows}
\end{Highlighting}
\end{Shaded}

\hypertarget{creating-data-frames-data_frame}{%
\section{Creating data frames: data\_frame}\label{creating-data-frames-data_frame}}

\texttt{data\_frame()} is a better way than \texttt{data.frame()} for creating data frames. Benefits of \texttt{data\_frame()}:

\begin{itemize}
\tightlist
\item
  You can use previously defined columns to compute new columns.
\item
  It never coerces column types.
\item
  It never munges column names.
\item
  It never adds row names.
\item
  It only recycles length 1 input.
\item
  It returns a local data frame (a tbl\_df).
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# data\_frame() example}
\FunctionTok{data\_frame}\NormalTok{(}\AttributeTok{a =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{, }\AttributeTok{b =}\NormalTok{ a}\SpecialCharTok{*}\DecValTok{2}\NormalTok{, }\AttributeTok{c =} \StringTok{\textquotesingle{}string\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}d+e\textquotesingle{}} \OtherTok{=} \DecValTok{1}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{glimpse}\NormalTok{()}
\CommentTok{\#\textgreater{} Warning: \textasciigrave{}data\_frame()\textasciigrave{} was deprecated in tibble 1.1.0.}
\CommentTok{\#\textgreater{} Please use \textasciigrave{}tibble()\textasciigrave{} instead.}
\CommentTok{\#\textgreater{} This warning is displayed once every 8 hours.}
\CommentTok{\#\textgreater{} Call \textasciigrave{}lifecycle::last\_lifecycle\_warnings()\textasciigrave{} to see where this warning was generated.}
\CommentTok{\#\textgreater{} Rows: 6}
\CommentTok{\#\textgreater{} Columns: 4}
\CommentTok{\#\textgreater{} $ a     \textless{}int\textgreater{} 1, 2, 3, 4, 5, 6}
\CommentTok{\#\textgreater{} $ b     \textless{}dbl\textgreater{} 2, 4, 6, 8, 10, 12}
\CommentTok{\#\textgreater{} $ c     \textless{}chr\textgreater{} "string", "string", "string", "string", "str\textasciitilde{}}
\CommentTok{\#\textgreater{} $ \textasciigrave{}d+e\textasciigrave{} \textless{}dbl\textgreater{} 1, 1, 1, 1, 1, 1}

\CommentTok{\# data.frame() example}
\FunctionTok{data.frame}\NormalTok{(}\AttributeTok{a =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{6}\NormalTok{, }\AttributeTok{c =} \StringTok{\textquotesingle{}string\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}d+e\textquotesingle{}} \OtherTok{=} \DecValTok{1}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{glimpse}\NormalTok{()}
\CommentTok{\#\textgreater{} Rows: 6}
\CommentTok{\#\textgreater{} Columns: 3}
\CommentTok{\#\textgreater{} $ a   \textless{}int\textgreater{} 1, 2, 3, 4, 5, 6}
\CommentTok{\#\textgreater{} $ c   \textless{}chr\textgreater{} "string", "string", "string", "string", "strin\textasciitilde{}}
\CommentTok{\#\textgreater{} $ d.e \textless{}dbl\textgreater{} 1, 1, 1, 1, 1, 1}
\end{Highlighting}
\end{Shaded}

\hypertarget{joining-merging-tables-left_join-right_join-inner_join-full_join-semi_join-anti_join}{%
\section{Joining (merging) tables: left\_join, right\_join, inner\_join, full\_join, semi\_join, anti\_join}\label{joining-merging-tables-left_join-right_join-inner_join-full_join-semi_join-anti_join}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# create two simple data frames}
\NormalTok{(a }\OtherTok{\textless{}{-}} \FunctionTok{data\_frame}\NormalTok{(}\AttributeTok{color =} \FunctionTok{c}\NormalTok{(}\StringTok{"green"}\NormalTok{,}\StringTok{"yellow"}\NormalTok{,}\StringTok{"red"}\NormalTok{), }\AttributeTok{num =} \DecValTok{1}\SpecialCharTok{:}\DecValTok{3}\NormalTok{))}
\CommentTok{\#\textgreater{} \# A tibble: 3 x 2}
\CommentTok{\#\textgreater{}   color    num}
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1}
\CommentTok{\#\textgreater{} 2 yellow     2}
\CommentTok{\#\textgreater{} 3 red        3}
\NormalTok{(b }\OtherTok{\textless{}{-}} \FunctionTok{data\_frame}\NormalTok{(}\AttributeTok{color =} \FunctionTok{c}\NormalTok{(}\StringTok{"green"}\NormalTok{,}\StringTok{"yellow"}\NormalTok{,}\StringTok{"pink"}\NormalTok{), }\AttributeTok{size =} \FunctionTok{c}\NormalTok{(}\StringTok{"S"}\NormalTok{,}\StringTok{"M"}\NormalTok{,}\StringTok{"L"}\NormalTok{)))}
\CommentTok{\#\textgreater{} \# A tibble: 3 x 2}
\CommentTok{\#\textgreater{}   color  size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green  S    }
\CommentTok{\#\textgreater{} 2 yellow M    }
\CommentTok{\#\textgreater{} 3 pink   L}

\CommentTok{\# only include observations found in both "a" and "b" (automatically joins on variables that appear in both tables)}
\FunctionTok{inner\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 2 x 3}
\CommentTok{\#\textgreater{}   color    num size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{} \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1 S    }
\CommentTok{\#\textgreater{} 2 yellow     2 M}

\CommentTok{\# include observations found in either "a" or "b"}
\FunctionTok{full\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 4 x 3}
\CommentTok{\#\textgreater{}   color    num size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{} \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1 S    }
\CommentTok{\#\textgreater{} 2 yellow     2 M    }
\CommentTok{\#\textgreater{} 3 red        3 \textless{}NA\textgreater{} }
\CommentTok{\#\textgreater{} 4 pink      NA L}

\CommentTok{\# include all observations found in "a"}
\FunctionTok{left\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 3 x 3}
\CommentTok{\#\textgreater{}   color    num size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{} \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1 S    }
\CommentTok{\#\textgreater{} 2 yellow     2 M    }
\CommentTok{\#\textgreater{} 3 red        3 \textless{}NA\textgreater{}}

\CommentTok{\# include all observations found in "b"}
\FunctionTok{right\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 3 x 3}
\CommentTok{\#\textgreater{}   color    num size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{} \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1 S    }
\CommentTok{\#\textgreater{} 2 yellow     2 M    }
\CommentTok{\#\textgreater{} 3 pink      NA L}

\CommentTok{\# right\_join(a, b) is identical to left\_join(b, a) except for column ordering}
\FunctionTok{left\_join}\NormalTok{(b, a)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 3 x 3}
\CommentTok{\#\textgreater{}   color  size    num}
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}chr\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{} 1 green  S         1}
\CommentTok{\#\textgreater{} 2 yellow M         2}
\CommentTok{\#\textgreater{} 3 pink   L        NA}

\CommentTok{\# filter "a" to only show observations that match "b"}
\FunctionTok{semi\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 2 x 2}
\CommentTok{\#\textgreater{}   color    num}
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1}
\CommentTok{\#\textgreater{} 2 yellow     2}

\CommentTok{\# filter "a" to only show observations that don\textquotesingle{}t match "b"}
\FunctionTok{anti\_join}\NormalTok{(a, b)}
\CommentTok{\#\textgreater{} Joining, by = "color"}
\CommentTok{\#\textgreater{} \# A tibble: 1 x 2}
\CommentTok{\#\textgreater{}   color   num}
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{} \textless{}int\textgreater{}}
\CommentTok{\#\textgreater{} 1 red       3}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# sometimes matching variables don\textquotesingle{}t have identical names}
\NormalTok{b }\OtherTok{\textless{}{-}}\NormalTok{ b }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{rename}\NormalTok{(}\AttributeTok{col =}\NormalTok{ color)}

\CommentTok{\# specify that the join should occur by matching "color" in "a" with "col" in "b"}
\FunctionTok{inner\_join}\NormalTok{(a, b, }\AttributeTok{by=}\FunctionTok{c}\NormalTok{(}\StringTok{"color"} \OtherTok{=} \StringTok{"col"}\NormalTok{))}
\CommentTok{\#\textgreater{} \# A tibble: 2 x 3}
\CommentTok{\#\textgreater{}   color    num size }
\CommentTok{\#\textgreater{}   \textless{}chr\textgreater{}  \textless{}int\textgreater{} \textless{}chr\textgreater{}}
\CommentTok{\#\textgreater{} 1 green      1 S    }
\CommentTok{\#\textgreater{} 2 yellow     2 M}
\end{Highlighting}
\end{Shaded}

\hypertarget{viewing-more-output-print-view}{%
\section{Viewing more output: print, View}\label{viewing-more-output-print-view}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# specify that you want to see more rows}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{print}\NormalTok{(}\AttributeTok{n =} \DecValTok{15}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 19}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{}  2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{}  3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{}  4  2013     1     1      544            545        {-}1}
\CommentTok{\#\textgreater{}  5  2013     1     1      554            600        {-}6}
\CommentTok{\#\textgreater{}  6  2013     1     1      554            558        {-}4}
\CommentTok{\#\textgreater{}  7  2013     1     1      555            600        {-}5}
\CommentTok{\#\textgreater{}  8  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{}  9  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{} 10  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} 11  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} 12  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} 13  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} 14  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{} 15  2013     1     1      559            600        {-}1}
\CommentTok{\#\textgreater{} \# ... with 336,761 more rows, and 13 more variables:}
\CommentTok{\#\textgreater{} \#   arr\_time \textless{}int\textgreater{}, sched\_arr\_time \textless{}int\textgreater{}, arr\_delay \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   carrier \textless{}chr\textgreater{}, flight \textless{}int\textgreater{}, tailnum \textless{}chr\textgreater{},}
\CommentTok{\#\textgreater{} \#   origin \textless{}chr\textgreater{}, dest \textless{}chr\textgreater{}, air\_time \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   distance \textless{}dbl\textgreater{}, hour \textless{}dbl\textgreater{}, minute \textless{}dbl\textgreater{},}
\CommentTok{\#\textgreater{} \#   time\_hour \textless{}dttm\textgreater{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# specify that you want to see ALL rows (don\textquotesingle{}t run this!)}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{print}\NormalTok{(}\AttributeTok{n =} \ConstantTok{Inf}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# specify that you want to see all columns}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{print}\NormalTok{(}\AttributeTok{width =} \ConstantTok{Inf}\NormalTok{)}
\CommentTok{\#\textgreater{} \# A tibble: 336,776 x 19}
\CommentTok{\#\textgreater{}     year month   day dep\_time sched\_dep\_time dep\_delay}
\CommentTok{\#\textgreater{}    \textless{}int\textgreater{} \textless{}int\textgreater{} \textless{}int\textgreater{}    \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1  2013     1     1      517            515         2}
\CommentTok{\#\textgreater{}  2  2013     1     1      533            529         4}
\CommentTok{\#\textgreater{}  3  2013     1     1      542            540         2}
\CommentTok{\#\textgreater{}  4  2013     1     1      544            545        {-}1}
\CommentTok{\#\textgreater{}  5  2013     1     1      554            600        {-}6}
\CommentTok{\#\textgreater{}  6  2013     1     1      554            558        {-}4}
\CommentTok{\#\textgreater{}  7  2013     1     1      555            600        {-}5}
\CommentTok{\#\textgreater{}  8  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{}  9  2013     1     1      557            600        {-}3}
\CommentTok{\#\textgreater{} 10  2013     1     1      558            600        {-}2}
\CommentTok{\#\textgreater{}    arr\_time sched\_arr\_time arr\_delay carrier flight tailnum}
\CommentTok{\#\textgreater{}       \textless{}int\textgreater{}          \textless{}int\textgreater{}     \textless{}dbl\textgreater{} \textless{}chr\textgreater{}    \textless{}int\textgreater{} \textless{}chr\textgreater{}  }
\CommentTok{\#\textgreater{}  1      830            819        11 UA        1545 N14228 }
\CommentTok{\#\textgreater{}  2      850            830        20 UA        1714 N24211 }
\CommentTok{\#\textgreater{}  3      923            850        33 AA        1141 N619AA }
\CommentTok{\#\textgreater{}  4     1004           1022       {-}18 B6         725 N804JB }
\CommentTok{\#\textgreater{}  5      812            837       {-}25 DL         461 N668DN }
\CommentTok{\#\textgreater{}  6      740            728        12 UA        1696 N39463 }
\CommentTok{\#\textgreater{}  7      913            854        19 B6         507 N516JB }
\CommentTok{\#\textgreater{}  8      709            723       {-}14 EV        5708 N829AS }
\CommentTok{\#\textgreater{}  9      838            846        {-}8 B6          79 N593JB }
\CommentTok{\#\textgreater{} 10      753            745         8 AA         301 N3ALAA }
\CommentTok{\#\textgreater{}    origin dest  air\_time distance  hour minute}
\CommentTok{\#\textgreater{}    \textless{}chr\textgreater{}  \textless{}chr\textgreater{}    \textless{}dbl\textgreater{}    \textless{}dbl\textgreater{} \textless{}dbl\textgreater{}  \textless{}dbl\textgreater{}}
\CommentTok{\#\textgreater{}  1 EWR    IAH        227     1400     5     15}
\CommentTok{\#\textgreater{}  2 LGA    IAH        227     1416     5     29}
\CommentTok{\#\textgreater{}  3 JFK    MIA        160     1089     5     40}
\CommentTok{\#\textgreater{}  4 JFK    BQN        183     1576     5     45}
\CommentTok{\#\textgreater{}  5 LGA    ATL        116      762     6      0}
\CommentTok{\#\textgreater{}  6 EWR    ORD        150      719     5     58}
\CommentTok{\#\textgreater{}  7 EWR    FLL        158     1065     6      0}
\CommentTok{\#\textgreater{}  8 LGA    IAD         53      229     6      0}
\CommentTok{\#\textgreater{}  9 JFK    MCO        140      944     6      0}
\CommentTok{\#\textgreater{} 10 LGA    ORD        138      733     6      0}
\CommentTok{\#\textgreater{}    time\_hour          }
\CommentTok{\#\textgreater{}    \textless{}dttm\textgreater{}             }
\CommentTok{\#\textgreater{}  1 2013{-}01{-}01 05:00:00}
\CommentTok{\#\textgreater{}  2 2013{-}01{-}01 05:00:00}
\CommentTok{\#\textgreater{}  3 2013{-}01{-}01 05:00:00}
\CommentTok{\#\textgreater{}  4 2013{-}01{-}01 05:00:00}
\CommentTok{\#\textgreater{}  5 2013{-}01{-}01 06:00:00}
\CommentTok{\#\textgreater{}  6 2013{-}01{-}01 05:00:00}
\CommentTok{\#\textgreater{}  7 2013{-}01{-}01 06:00:00}
\CommentTok{\#\textgreater{}  8 2013{-}01{-}01 06:00:00}
\CommentTok{\#\textgreater{}  9 2013{-}01{-}01 06:00:00}
\CommentTok{\#\textgreater{} 10 2013{-}01{-}01 06:00:00}
\CommentTok{\#\textgreater{} \# ... with 336,766 more rows}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# show up to 1000 rows and all columns}
\NormalTok{flights }\SpecialCharTok{\%\textgreater{}\%} \FunctionTok{View}\NormalTok{()}

\CommentTok{\# set option to see all columns and fewer rows}
\FunctionTok{options}\NormalTok{(}\AttributeTok{dplyr.width =} \ConstantTok{Inf}\NormalTok{, }\AttributeTok{dplyr.print\_min =} \DecValTok{6}\NormalTok{)}

\CommentTok{\# reset options (or just close R)}
\FunctionTok{options}\NormalTok{(}\AttributeTok{dplyr.width =} \ConstantTok{NULL}\NormalTok{, }\AttributeTok{dplyr.print\_min =} \DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{excercies}{%
\section{Excercies}\label{excercies}}

Using the nycflights13 dataset and the dplyr package, answer these questions. Some answers are given in square brackets for you to check your answers.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  How many flights in Sept were late departing flights? {[}7815{]}
\item
  How many flights in Sept were late departing flights that originated at JFK airport? {[}2649{]}
\item
  How many flights in Sept were late departing flights with an origin of JFK airport and had an destination of anywhere except MIA? {[}2572{]}
\item
  Which carrier had the most flights in this data set? {[}UA with 58665{]}
\item
  Which destination had the most flights in this data set? {[}ORD with 17283{]}
\item
  Which destination had the most flights with departure delays of greater than 60 minutes in this data set? {[}ORD with 1480{]}
\item
  What was the longest arrival delay in this dataset? {[}1272{]}
\item
  Which carrier in September had the most late departing flights? {[}UA with 1559{]}
\item
  Create a variable called total.annoyance which arrival delay plus the departure delay for each flight.
\item
  Which carrier with more than 10 flights in September had greatest \% late departing flights?
\end{enumerate}

\hypertarget{a-neat-resource}{%
\section{A Neat Resource}\label{a-neat-resource}}

\begin{itemize}
\tightlist
\item
  \href{http://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf}{RStudio's Data Wrangling Cheat Sheet} for dplyr and tidyr
\end{itemize}

\hypertarget{linear-regression}{%
\chapter{Linear Regression}\label{linear-regression}}

\hypertarget{what-is-machine-learning}{%
\section{What is Machine Learning?}\label{what-is-machine-learning}}

This is where the fun stuff begins! What we have learned up to this point has barely scratched the surface of what R is capable of. In the world of data science, R is used for three primary purposes, those purposes are (1) data transformation, (2) data wrangling, (3) machine learning. The other two purposes have been covered in earlier chapters of this book. The reason we covered the other topics first is that that lay the foundation. In the real world, it is likely you will never be given a clean data set, and you will have to do some wrangling and transformation before anything else is possible. After all, in the experience of many data science students, cleaning the data is the most tedious and time consuming process of a project.

Enough of the old stuff, what is machine learning? According to the Merriam-Webster Dictionary, machine learning is ``the process by which a computer is able to improve its own performance by continuously incorporating new data into an existing statistical model.'' Let's take a trip back to the Target story discussed in the introductory chapter. The data scientist, or more likely data scientists (collaborative work is essential in this field), that worked on that model were likely experts in machine learning. They were able to train the computer to look through thousands (probably more) of customers' data and the computer, based off the algorithms written by these ``data nerds,'' was able to predict whether a customer was pregnant! Think of other possible applications of this technology? We could predict how well a student will preform on an exam, the risk of someone suffering from a heart attack, or the likelihood that someone will default on a loan. Every field in existence today could find a way to implement machine learning to optimize their business.

There are two branches of machine learning, supervised and unsupervised. Both have their own unique uses, however in this course we will focus on supervised machine learning. Supervised machine learning required us to provide a clean data set with clearly defined variables and instructions. Essentially, we give the computer the information it needs and provide it with specific instructions detailing what we would like to see happen, and it does the rest. Linear regression is typically the first method of supervised learning people are introduced to, and it will be the focus of this chapter.

Note, these concepts are not all common sense and can be difficult to wrap your head around at times. Be sure to constantly turn to your instructor or peers for assistance and remember that there are hundreds of online resources at your disposal. As with anything though, practice makes perfect. The popular rule states that mastering a skill can take upwards of 10,000 hours! Now, this course is not going to take you 10 years to complete, however the goal is that by the end of this chapter you will know your way around the basics of linear regression.

\hypertarget{model-structure}{%
\section{Model Structure}\label{model-structure}}

Let's look at a very simple model first. For this example, we will need to import the Introduction to Statistical Learning package (ISLR). We will use the ``credit'' data set that is part of the ISLR package.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ISLR)}
\FunctionTok{data}\NormalTok{(}\StringTok{"Credit"}\NormalTok{)}
\FunctionTok{attach}\NormalTok{(Credit)}

\NormalTok{M1 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(Balance }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Limit }\SpecialCharTok{+}\NormalTok{ Ethnicity)}
\end{Highlighting}
\end{Shaded}

lm is the function we use to create linear regression models. Now, before we discuss interpreting the results we get from this function, we will discuss the different parts of the model. The ``\textasciitilde{}'' symbol is the key to this entire equation. We are telling R to predict whatever is on the left side of the tilde using the variables on the right.

\hypertarget{interpretation-of-the-model}{%
\section{Interpretation of the Model}\label{interpretation-of-the-model}}

Let's run a summary on this model and see what we get.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(M1)}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Call:}
\CommentTok{\#\textgreater{} lm(formula = Balance \textasciitilde{} Limit + Ethnicity)}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Residuals:}
\CommentTok{\#\textgreater{}     Min      1Q  Median      3Q     Max }
\CommentTok{\#\textgreater{} {-}677.39 {-}145.75   {-}8.75  139.56  776.46 }
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Coefficients:}
\CommentTok{\#\textgreater{}                      Estimate Std. Error t value Pr(\textgreater{}|t|)}
\CommentTok{\#\textgreater{} (Intercept)        {-}3.078e+02  3.417e+01  {-}9.007   \textless{}2e{-}16}
\CommentTok{\#\textgreater{} Limit               1.718e{-}01  5.079e{-}03  33.831   \textless{}2e{-}16}
\CommentTok{\#\textgreater{} EthnicityAsian      2.835e+01  3.304e+01   0.858    0.391}
\CommentTok{\#\textgreater{} EthnicityCaucasian  1.381e+01  2.878e+01   0.480    0.632}
\CommentTok{\#\textgreater{}                       }
\CommentTok{\#\textgreater{} (Intercept)        ***}
\CommentTok{\#\textgreater{} Limit              ***}
\CommentTok{\#\textgreater{} EthnicityAsian        }
\CommentTok{\#\textgreater{} EthnicityCaucasian    }
\CommentTok{\#\textgreater{} {-}{-}{-}}
\CommentTok{\#\textgreater{} Signif. codes:  }
\CommentTok{\#\textgreater{} 0 \textquotesingle{}***\textquotesingle{} 0.001 \textquotesingle{}**\textquotesingle{} 0.01 \textquotesingle{}*\textquotesingle{} 0.05 \textquotesingle{}.\textquotesingle{} 0.1 \textquotesingle{} \textquotesingle{} 1}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Residual standard error: 234 on 396 degrees of freedom}
\CommentTok{\#\textgreater{} Multiple R{-}squared:  0.743,  Adjusted R{-}squared:  0.7411 }
\CommentTok{\#\textgreater{} F{-}statistic: 381.6 on 3 and 396 DF,  p{-}value: \textless{} 2.2e{-}16}
\end{Highlighting}
\end{Shaded}

There is a lot of statistical jargon included in our summary that may be unfamiliar to those who have not taken statistics before. That is okay, however, because we are going to breakdown the main statistics we are interested in. Let's start with our variables and their significance in the model.

\hypertarget{p-values}{%
\subsection{P-Values}\label{p-values}}

The p-value of our model helps us either prove or disprove the null-hypothesis of our test. In the case of this class, the null-hypothesis is that there is no relationship between the variables we are using to make the predictions and the actual variable we are predicting. In other words, the smaller our p-value the higher the level of significance there is between our variables. When we run a summary of our linear regression model we are give multiple p-values.

First, under coefficients, they are listed for each variable. This can help us optimize our model because we can see what variables are helping make the model more accurate versus those that may be hindering its performance. Also notice the asterisks next to our p-values. R kindly puts up to three stars next to each variable to help us visually tell if they are significant, essentially more stars means a lower p-value and thus a higher correlation.
The second place we see a p-value is at the bottom of our summary. This p-value will give us the overall correlation that exists in our model. As we see in this case, our p-values for this model is \textless{} .00000000000000022, that is a tiny number and frankly a great p-value. Typically we want our p-value to be .05 or smaller. A p-value of .05 tells us that we have a confidence level of 95\%.

\hypertarget{multiple-r-squared}{%
\subsection{Multiple R-Squared}\label{multiple-r-squared}}

R-squared tells us how well our model explains the variance in our variable. In other words, is the reason for the change in the independent variable actually due to our model's prediction? The higher the r-squared, the more accurate our model is because the better the data fits it. The maximum value r-squared can be is 1.

In our model's case, we have a multiple r-squared of .743, this means our model is approximately 74.3\% accurate as this is the amount of variance in the data caused by our dependent variable. Our r-squared could certainly be better. In fact, in the real world you typically are aiming for an r-squared above .9 or .95, which means you would have 90\%-95\% accuracy.

\hypertarget{applying-the-model-to-make-predictions}{%
\section{Applying the Model to Make Predictions}\label{applying-the-model-to-make-predictions}}

This type of regression is refereed to as linear for a reason. If we were to visualize our model on a quadratic plane, we would see a line of best fit that would travel along through our data. This means we can simplify the model to fit the slope-intercept equation:

y = m(x)+b

In our case the slope of our line is related to the independent variables. The sum of these slopes will give us the overall slope of our line and the intercept is provided by the equation summary. If we modify this equation to be more applicable to our situation we would get something like this:

y = m1x1 + m2x2 \ldots{} + b

Let's look back at our example model from before

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{M1 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(Balance }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Limit }\SpecialCharTok{+}\NormalTok{ Ethnicity)}
\FunctionTok{summary}\NormalTok{(M1)}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Call:}
\CommentTok{\#\textgreater{} lm(formula = Balance \textasciitilde{} Limit + Ethnicity)}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Residuals:}
\CommentTok{\#\textgreater{}     Min      1Q  Median      3Q     Max }
\CommentTok{\#\textgreater{} {-}677.39 {-}145.75   {-}8.75  139.56  776.46 }
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Coefficients:}
\CommentTok{\#\textgreater{}                      Estimate Std. Error t value Pr(\textgreater{}|t|)}
\CommentTok{\#\textgreater{} (Intercept)        {-}3.078e+02  3.417e+01  {-}9.007   \textless{}2e{-}16}
\CommentTok{\#\textgreater{} Limit               1.718e{-}01  5.079e{-}03  33.831   \textless{}2e{-}16}
\CommentTok{\#\textgreater{} EthnicityAsian      2.835e+01  3.304e+01   0.858    0.391}
\CommentTok{\#\textgreater{} EthnicityCaucasian  1.381e+01  2.878e+01   0.480    0.632}
\CommentTok{\#\textgreater{}                       }
\CommentTok{\#\textgreater{} (Intercept)        ***}
\CommentTok{\#\textgreater{} Limit              ***}
\CommentTok{\#\textgreater{} EthnicityAsian        }
\CommentTok{\#\textgreater{} EthnicityCaucasian    }
\CommentTok{\#\textgreater{} {-}{-}{-}}
\CommentTok{\#\textgreater{} Signif. codes:  }
\CommentTok{\#\textgreater{} 0 \textquotesingle{}***\textquotesingle{} 0.001 \textquotesingle{}**\textquotesingle{} 0.01 \textquotesingle{}*\textquotesingle{} 0.05 \textquotesingle{}.\textquotesingle{} 0.1 \textquotesingle{} \textquotesingle{} 1}
\CommentTok{\#\textgreater{} }
\CommentTok{\#\textgreater{} Residual standard error: 234 on 396 degrees of freedom}
\CommentTok{\#\textgreater{} Multiple R{-}squared:  0.743,  Adjusted R{-}squared:  0.7411 }
\CommentTok{\#\textgreater{} F{-}statistic: 381.6 on 3 and 396 DF,  p{-}value: \textless{} 2.2e{-}16}
\end{Highlighting}
\end{Shaded}

We see that our limit variable has an estimate of 1.718e-01, this is our slope. When dealing with quantitative variables, we simply multiply our slope by the intended independent variable. So, if we wanted to find the balance of someone with a limit of 400, we would multiply 1.718e-01 by 400.

With the qualitative variables, in this case ethnicity, we multiply the estimate of the TRUE values by 1 and FALSE values by 0, thus cancelling the FALSE values out.

Let's look at an example. If we used our above equation to predict the balance of someone who was Caucasian and has a credit limit of 500, here is the equation we would set up:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y }\OtherTok{=}\NormalTok{ (}\FloatTok{1.718e{-}1}\SpecialCharTok{*}\DecValTok{500}\NormalTok{) }\SpecialCharTok{+}\NormalTok{ (}\FloatTok{1.381e+01}\SpecialCharTok{*}\DecValTok{1}\NormalTok{) }\SpecialCharTok{+}\NormalTok{ (}\FloatTok{2.835e+01}\SpecialCharTok{*}\DecValTok{0}\NormalTok{) }\SpecialCharTok{+}\NormalTok{ (}\SpecialCharTok{{-}}\FloatTok{3.078e+02}\NormalTok{)}
\NormalTok{y}
\CommentTok{\#\textgreater{} [1] {-}208.09}
\end{Highlighting}
\end{Shaded}

So, according to our model our customer would have a balance of -208.09. This number may seem funny, but keep in mind that our r-squared was not the best for this model making it inaccurate and the ethnicity of the customer was not highly correlated with the balance. Both of these facts may cause our prediction to be off. If we were actually creating a model that could predict balance, we would want to look at some of the more correlated variables in the data set.

\hypertarget{review-questions-1}{%
\section{Review Questions}\label{review-questions-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  Create a linear model predicting using the ISLR data set that predicts a customer's credit limit based on their age, current balance, and the number of cards they have.
\item
  What is the p-value of this model? What does this tell us?
\item
  List the variables in order from most correlated to least. How do you know that they are correlated?
\item
  What is the multiple r-squared of the model? What does this tell us? Is this good or bad?
\item
  What would be the credit limit of a 29 year old with 5 cards and a total balance of 1500?
\item
  Explain what the following piece of code does
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ISLR)}
\FunctionTok{data}\NormalTok{(}\StringTok{"Credit"}\NormalTok{)}
\FunctionTok{attach}\NormalTok{(Credit)}
\NormalTok{q1 }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(Cards }\SpecialCharTok{\textasciitilde{}}\NormalTok{ Limit }\SpecialCharTok{+}\NormalTok{ Balance }\SpecialCharTok{+}\NormalTok{ Education)}
\end{Highlighting}
\end{Shaded}

\hypertarget{linear-regression-practice}{%
\chapter{Linear Regression Practice}\label{linear-regression-practice}}

\hypertarget{your-homework-is-to-watch-these-videos-which-are-posted-under-the-linear-regression-header-on-brightspace-and-then-do-the-following-homework}{%
\section{Your homework is to watch these videos which are posted under the linear regression header on Brightspace and then do the following homework:}\label{your-homework-is-to-watch-these-videos-which-are-posted-under-the-linear-regression-header-on-brightspace-and-then-do-the-following-homework}}

\hypertarget{videos-to-watch}{%
\subsection{Videos to watch:}\label{videos-to-watch}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Linear regression women
\item
  Best fit line women
\end{enumerate}

\hypertarget{problems}{%
\section{Problems}\label{problems}}

Once you have watched these videos, and you can refer to them as often as you would like, please answer and do the following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Use linear regression to predict the weight of a woman who is 100 inches tall.
\item
  Use linear regression to predict the height of the woman who weighs 200 pounds.
\item
  Use linear regression to predict the height of a woman who weighs 5 pounds.
\item
  Use linear regression to predict the weight of a woman who is 200 inches tall.
\item
  Plot weight on the X axes and height on the y-axes and create a best fit line on your plot.
\item
  Plot height on the y-axes and wait on the X axes and create a best fit line on your plot.
\item
  Add a another column to the women dataframe called GPA which is these 15 numbers: 1.5,4,2,3.7,4,1, 3, 2.5, 3.8, 0.8, 2, 4, 1, 3, 2.
\item
  Use GPA to predict height. Is GPA a significant predictor and how do you know? Draw a best fit line on this relationship.
\item
  Use GPA to predict a weight. Is GPA a significant predictor and how do you know? Draw a bested line on this relationship, too.
\item
  Predict the height of a person with a GPA of 4.0.
\end{enumerate}

\hypertarget{multivariate-regression}{%
\section{Multivariate Regression}\label{multivariate-regression}}

I have posted a short video walking you through how to perform multiple linear regression -- where you have more than one variable predicting another.

Using the data set mtcars data set:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Which variable predicts miles per gallon better gear or qsec? How can you tell?
\item
  Which two variables out of these four (qsec, vs, am, gear) together best predict miles per gallon?
\item
  Using only the number of cylinders, displacement, and weight what would mpg you would you predict for a car with a displacement of 400 inches, eight cylinders, and weighing 2000 pounds?
\item
  Be able to explain in a model which variables are significantly significant.
\item
  Be able to explain what adjusted R squared means.
\end{enumerate}

\hypertarget{logistic-regression}{%
\chapter{Logistic Regression}\label{logistic-regression}}

\hypertarget{introduction-5}{%
\section{Introduction}\label{introduction-5}}

In the previous chapter we discussed linear regression, a type of supervised machine learning often used to make qualitative predictions. Now, we are moving on to logistic regression, another form of supervised machine learning that is commonly used for making predictions of some Boolean variable.

This form of machine learning is typically used when using a prediction to answer a yes or no question. For instance, let's say we wanted to predict whether or not someone will suffer from a stroke. Using logistic regression, we can determine the probability that someone will either have a stroke (yes/true/positive result) or will not have a stroke (no/false/negative result).

Also in this chapter we will discuss the difference between training and test data sets, why they are important, and how we apply them in logistic regression. This will help us to discuss the interpretation of these models and how we can test their accuracy.

As stated previously, these topics may be difficult, and will be especially difficult if you still don't understand previous machine learning topics discussed in this course. Be sure to ask questions and seek help if you begin to struggle. This section will call on concepts from the very beginning of the course.

\hypertarget{training-data-and-test-data}{%
\section{Training Data and Test Data}\label{training-data-and-test-data}}

In supervised machine learning, we provide the computer with data and in essence ``teach'' it how to treat the data and create predictions with it. Training data is the data we feed our model so that it can make accurate predictions of the probability of an outcome. Meanwhile, test data is the data we compare our model to in order to assess its accuracy.

So, using the example above, if we were building a model to test the probability of someone having a stroke, we would segment our main data set into two parts, a training set and a test set. Then, after we build our model, we would compare the model's output to the actual data and see how many times it made accurate predictions, this would in turn give us our model's accuracy.

\hypertarget{model-structure-1}{%
\section{Model Structure}\label{model-structure-1}}

Let's use the Auto data set to create a basic logistic regression model. Warning, we are going to be calling on information from earlier in the class a lot during these sections, so if you see any code you are unfamiliar with, first look in earlier class materials as it will not be reexplained here.

Let's load in some data from the ISLR package and make some predictions using the ``mpg'' variable. We want to find the median of the variable, and then predict whether a vehicle will have an mpg above or below that middle point. To do this with logistic regression, we must create a factor object using mpg that our model will try to predict.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ISLR)}
\FunctionTok{library}\NormalTok{(dplyr)}

\FunctionTok{data}\NormalTok{(}\StringTok{"Auto"}\NormalTok{)}
\FunctionTok{attach}\NormalTok{(Auto)}
\FunctionTok{summary}\NormalTok{(Auto)}
\CommentTok{\#\textgreater{}       mpg          cylinders      displacement  }
\CommentTok{\#\textgreater{}  Min.   : 9.00   Min.   :3.000   Min.   : 68.0  }
\CommentTok{\#\textgreater{}  1st Qu.:17.00   1st Qu.:4.000   1st Qu.:105.0  }
\CommentTok{\#\textgreater{}  Median :22.75   Median :4.000   Median :151.0  }
\CommentTok{\#\textgreater{}  Mean   :23.45   Mean   :5.472   Mean   :194.4  }
\CommentTok{\#\textgreater{}  3rd Qu.:29.00   3rd Qu.:8.000   3rd Qu.:275.8  }
\CommentTok{\#\textgreater{}  Max.   :46.60   Max.   :8.000   Max.   :455.0  }
\CommentTok{\#\textgreater{}                                                 }
\CommentTok{\#\textgreater{}    horsepower        weight      acceleration  }
\CommentTok{\#\textgreater{}  Min.   : 46.0   Min.   :1613   Min.   : 8.00  }
\CommentTok{\#\textgreater{}  1st Qu.: 75.0   1st Qu.:2225   1st Qu.:13.78  }
\CommentTok{\#\textgreater{}  Median : 93.5   Median :2804   Median :15.50  }
\CommentTok{\#\textgreater{}  Mean   :104.5   Mean   :2978   Mean   :15.54  }
\CommentTok{\#\textgreater{}  3rd Qu.:126.0   3rd Qu.:3615   3rd Qu.:17.02  }
\CommentTok{\#\textgreater{}  Max.   :230.0   Max.   :5140   Max.   :24.80  }
\CommentTok{\#\textgreater{}                                                }
\CommentTok{\#\textgreater{}       year           origin                      name    }
\CommentTok{\#\textgreater{}  Min.   :70.00   Min.   :1.000   amc matador       :  5  }
\CommentTok{\#\textgreater{}  1st Qu.:73.00   1st Qu.:1.000   ford pinto        :  5  }
\CommentTok{\#\textgreater{}  Median :76.00   Median :1.000   toyota corolla    :  5  }
\CommentTok{\#\textgreater{}  Mean   :75.98   Mean   :1.577   amc gremlin       :  4  }
\CommentTok{\#\textgreater{}  3rd Qu.:79.00   3rd Qu.:2.000   amc hornet        :  4  }
\CommentTok{\#\textgreater{}  Max.   :82.00   Max.   :3.000   chevrolet chevette:  4  }
\CommentTok{\#\textgreater{}                                  (Other)           :365}

\NormalTok{Auto }\OtherTok{\textless{}{-}}\NormalTok{ Auto }\SpecialCharTok{\%\textgreater{}\%} 
  \FunctionTok{mutate}\NormalTok{(}\AttributeTok{mpg01 =} \FunctionTok{ifelse}\NormalTok{(Auto}\SpecialCharTok{$}\NormalTok{mpg }\SpecialCharTok{\textgreater{}} \FloatTok{22.75}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{))}
\NormalTok{Auto[Auto}\SpecialCharTok{$}\NormalTok{mpg01 }\SpecialCharTok{==} \DecValTok{0}\NormalTok{,]}\SpecialCharTok{$}\NormalTok{mpg01 }\OtherTok{\textless{}{-}} \StringTok{"Below"}
\NormalTok{Auto[Auto}\SpecialCharTok{$}\NormalTok{mpg01 }\SpecialCharTok{==} \DecValTok{1}\NormalTok{,]}\SpecialCharTok{$}\NormalTok{mpg01 }\OtherTok{\textless{}{-}} \StringTok{"Above"}
\NormalTok{Auto}\SpecialCharTok{$}\NormalTok{mpg01 }\OtherTok{\textless{}{-}} \FunctionTok{as.factor}\NormalTok{(Auto}\SpecialCharTok{$}\NormalTok{mpg01)}

\FunctionTok{attach}\NormalTok{(Auto)}
\end{Highlighting}
\end{Shaded}

Now that we have a variable to predict, we can build the model.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{glm.auto }\OtherTok{\textless{}{-}} \FunctionTok{glm}\NormalTok{(mpg01 }\SpecialCharTok{\textasciitilde{}}\NormalTok{ weight }\SpecialCharTok{+}\NormalTok{ cylinders, }\AttributeTok{data =}\NormalTok{ Auto, }\AttributeTok{family =} \StringTok{"binomial"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

As you can see, the structure is very similar to that of a linear regression model except for our specification of the data set we want it to use (this can be done in linear regression, but we did not earlier in the class) and the family argument which we have not seen before.

In this course, we will only every specify family to be binomial, this tells R that the variable we are predicting only has two outcomes. The data argument is used to specify a training data set if we were using one, which we are not in this example.

\hypertarget{model-interpretation}{%
\section{Model Interpretation}\label{model-interpretation}}

This is where things start to make a more complicated turn. We are going to look at how we evaluate the model's performance. First, we must tell R to make the prediction and store the results in an object.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mpg01.probs }\OtherTok{\textless{}{-}} \FunctionTok{predict}\NormalTok{(glm.auto, }\AttributeTok{type =} \StringTok{\textquotesingle{}response\textquotesingle{}}\NormalTok{)}
\NormalTok{mpg01.probs[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{]}
\CommentTok{\#\textgreater{}         1         2         3         4         5         6 }
\CommentTok{\#\textgreater{} 0.9769013 0.9866197 0.9719307 0.9716889 0.9729552 0.9979876 }
\CommentTok{\#\textgreater{}         7         8         9        10 }
\CommentTok{\#\textgreater{} 0.9980630 0.9978088 0.9984275 0.9915263}
\end{Highlighting}
\end{Shaded}

If we were to look at the mpg01.probs object it would contain the probability of the desired response, which is the true/positive response by default. However, we want this to be more intuitive, so we will make everything in the data set say ``Below'' unless the percentage is above what we consider a fair odds. So, in our case we will say that anything over 50\% has a fair chance of being above the median mpg.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mpg01.pred }\OtherTok{\textless{}{-}} \FunctionTok{rep}\NormalTok{(}\StringTok{\textquotesingle{}Below\textquotesingle{}}\NormalTok{,}\DecValTok{392}\NormalTok{)}
\NormalTok{mpg01.pred[mpg01.probs}\SpecialCharTok{\textgreater{}}\NormalTok{.}\DecValTok{5}\NormalTok{] }\OtherTok{=} \StringTok{\textquotesingle{}Above\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

Finally, we can test our accuracy with a confusion matrix. The matrix will show our models predictions compared to the actual outcome. We can use this to test our accuracy and from there tweak different aspects of the model to help reduce variance.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{table}\NormalTok{(mpg01.pred,mpg01)}
\CommentTok{\#\textgreater{}           mpg01}
\CommentTok{\#\textgreater{} mpg01.pred Above Below}
\CommentTok{\#\textgreater{}      Above    18   170}
\CommentTok{\#\textgreater{}      Below   178    26}
\end{Highlighting}
\end{Shaded}

Looking at the table we just produced, our accuracy is not the greatest. In fact, it's pretty terrible. We get our accuracy by adding up the two areas where our model and the actual data match (in this case where above/above and below/below overlap) and then we divide this number by the total number of observations we had in the data set. Using our R arithmetic knowledge, we find our accuracy to be .1122 or 11.22\%\ldots as stated before, a terrible accuracy. In fact, we typically aim for accuracy of 95\% or better.

However, having lower prediction accuracy is common and not necessarily a terrible thing. In fact, we sometimes learn more from inaccurate models than we do the more effective ones. For instance, we now know that perhaps our variables are not as correlated as we once thought, or perhaps we set the value for our mpg01.probs object too low. From here, the best thing to do is gather insights, tweak your model, and move on.

\hypertarget{review-questions-2}{%
\section{Review Questions}\label{review-questions-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi})}
\item
  What is the difference between logistic regression and linear regression? What is an example of an application for each of them?
\item
  From scratch, create a logistic regression model using the ``Smarket'' data set from the ISLR package. You are to create a model predicting the ``direction'' variable.
\item
  Test the accuracy of the model you created in the last question.
\item
  Segment the Auto data set into training and test sets.
\item
  The following code shows a logistic regression model using test and training data. Recreate a similar model using the Auto data set and the mpg variable.
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(ISLR)}
\FunctionTok{data}\NormalTok{(}\StringTok{"Smarket"}\NormalTok{)}
\FunctionTok{attach}\NormalTok{(Smarket)}

\NormalTok{train}\OtherTok{=}\NormalTok{(Year}\SpecialCharTok{\textless{}}\DecValTok{2005}\NormalTok{)}
\NormalTok{Smarket}\FloatTok{.2005}\OtherTok{=}\NormalTok{Smarket[}\SpecialCharTok{!}\NormalTok{train,]}
\NormalTok{Direction}\FloatTok{.2005}\OtherTok{=}\NormalTok{Direction[}\SpecialCharTok{!}\NormalTok{train]}
\NormalTok{glm.fits}\OtherTok{=}\FunctionTok{glm}\NormalTok{(Direction}\SpecialCharTok{\textasciitilde{}}\NormalTok{Lag1}\SpecialCharTok{+}\NormalTok{Lag2}\SpecialCharTok{+}\NormalTok{Lag3}\SpecialCharTok{+}\NormalTok{Lag4}\SpecialCharTok{+}\NormalTok{Lag5}\SpecialCharTok{+}\NormalTok{Volume,}\AttributeTok{data=}\NormalTok{Smarket,}\AttributeTok{family=}\NormalTok{binomial,}\AttributeTok{subset=}\NormalTok{train)}
\NormalTok{glm.probs}\OtherTok{=}\FunctionTok{predict}\NormalTok{(glm.fits,Smarket}\FloatTok{.2005}\NormalTok{,}\AttributeTok{type=}\StringTok{"response"}\NormalTok{)}
\NormalTok{glm.pred}\OtherTok{=}\FunctionTok{rep}\NormalTok{(}\StringTok{"Down"}\NormalTok{,}\DecValTok{252}\NormalTok{)}
\NormalTok{glm.pred[glm.probs}\SpecialCharTok{\textgreater{}}\NormalTok{.}\DecValTok{5}\NormalTok{]}\OtherTok{=}\StringTok{"Up"}
\end{Highlighting}
\end{Shaded}

\hypertarget{dealing-with-errors}{%
\chapter{Dealing with Errors}\label{dealing-with-errors}}

\hypertarget{introduction-6}{%
\section{Introduction}\label{introduction-6}}

So, you spent the last 2 hours tirelessly writing code for a project that is due tomorrow. You finally get to the very end, 100+ lines of hard work. You click run and\ldots you get an error. Fortunately for you, you are not alone in this struggle, everyone battles with errors because unlike R, we are not experts at code syntax and we make mistakes. This short chapter will walk you through some techniques to help solve errors on your own and also provide some resources that may help you.

Note: There are websites mentioned in this chapter that will help you solve errors in your code, and these solutions typically include the corrected code. You SHOULD NOT copy and paste code from the internet, rather you should learn how to fix your error and do the coding yourself. This is especially important because you will not be able to access internet resources during tests and quizzes in this course.

\hypertarget{troubleshooting-typical-errors}{%
\section{Troubleshooting Typical Errors}\label{troubleshooting-typical-errors}}

This will not be a list of common errors you will face because there are hundreds, if not thousands, that could possibly occur. However, this section will tell you how to logically work through an error.

Start by looking for a line number. Sometimes your error will include a line where the error is occurring, if it does you should go to that line and see if you can visually assess the problem. If it does not include a line number look for key words such as object names, functions, or anything else that may give you a hint as to where the error may be happening.

Once you find the error, it is helpful if you have done similar work in a previous assignment because you can compare the code and see if it was simply an error with how you constructed a function. Also look for grammatical errors, capitalization errors, or even something small with punctuation like putting a comma instead of a period.

If none of the above issues are present read through the error message in your console for hints. There is often ``fluff'' in error messages that is not very intuitive. Here is an example:

It can be overwhelming at times when you get an error like this, especially if it is one you have never seen before. However, if you carefully read through you see it says ``x and y lengths differ'' All of those words just to say that wherever that error is located, the x and y axis are different lengths and therefor it will not run. So, when you face something like this, you just have to walk through it one word or line at a time and see if you can make sense of it.

If nothing said up to this point has helped, do not fear. The resources listed below will help a ton! Take the time to explore the following websites BEFORE you encounter an error. Make accounts on all of them and save the home page to your favorites bar. It is almost guaranteed that you will need to visit at least one of these sites during the semester. They are links, so if you are viewing this electronically, simply click to navigate. Otherwise, copy and paste the resouce to Google and it will be the first link to show.

\begin{itemize}
\tightlist
\item
  \href{https://stackoverflow.com/}{StackOverflow}
\item
  \href{https://github.com/}{GitHub}
\item
  \href{https://community.rstudio.com/}{RStudio Community}
\item
  \href{https://journal.r-project.org/}{R-Project Journal}
\end{itemize}

\hypertarget{practice-final-exam}{%
\chapter{Practice Final Exam}\label{practice-final-exam}}

\hypertarget{meter-freestyle-olympic-winning-time-seconds}{%
\section{100-Meter Freestyle Olympic Winning Time (seconds)}\label{meter-freestyle-olympic-winning-time-seconds}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a table in R that looks like the data above. Call this table: swim
\end{enumerate}

\begin{verbatim}
#>    year  mens womens
#> 1  1912 63.20  72.20
#> 2  1920 61.40  73.60
#> 3  1924 59.00  72.40
#> 4  1928 58.60  71.00
#> 5  1932 58.20  66.80
#> 6  1936 57.60  65.90
#> 7  1948 57.30  66.30
#> 8  1952 57.40  66.80
#> 9  1956 55.40  62.00
#> 10 1960 55.20  61.20
#> 11 1964 53.40  59.40
#> 12 1968 52.20  60.00
#> 13 1972 51.22  58.59
#> 14 1976 49.99  55.65
#> 15 1980 50.40  54.79
#> 16 1984 49.80  55.92
#> 17 1988 48.63  54.93
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  On 1 page, plot two graphs: a) year (x axis) vs Menâs time (y axis) and b) year (x axis) vs Womenâs time (y axis). Add a best fit line for menâs and womenâs winning times.
\end{enumerate}

\includegraphics[width=0.5\linewidth]{25-practicefinal_files/figure-latex/unnamed-chunk-2-1}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Determine the womenâs time in 2016 according to the line of best fit based solely on the information provided by this best fit line (i.e, do NOT use a prediction function) and use R as a calculator obtain an estimate for the 2016 winning time.
\end{enumerate}

\begin{verbatim}
#> [1] 46.75584
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Create a table based on swim that is comprised only of womenâs times for the years 1932 through 1972. Call this table swim2. Based on swim2, predict the winning womenâs times for 1976, 1980, 1984, and 1988. Feel free to use a \texttt{predict} function.
\end{enumerate}

\begin{verbatim}
#>        fit      lwr      upr
#> 1 57.30314 56.14272 58.46356
#> 2 56.24879 54.98460 57.51298
#> 3 55.19444 53.81969 56.56919
#> 4 54.14009 52.64950 55.63067
\end{verbatim}

\hypertarget{starwars-fun}{%
\section{Starwars fun}\label{starwars-fun}}

Use the starwars data in the dplyr package to answer the following questions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Body Mass Index (BMI) is defined as the body mass divided by the square of the body height. Use pounds and inches (convert given data as needed) and use this formula to cacluate BMI:
\end{enumerate}

\begin{quote}
Weight (lb) / {[}height (in){]}\textsuperscript{2} x 703
\end{quote}

\begin{verbatim}
#> # A tibble: 6 x 7
#>   species    mass height height.in height.in.squar~ mass.lbs
#>   <chr>     <dbl>  <int>     <dbl>            <dbl>    <dbl>
#> 1 Hutt       1358    175      68.9            4747.   2994. 
#> 2 Vulptere~    45     94      37.0            1370.     99.2
#> 3 Yoda's s~    17     66      26.0             675.     37.5
#> 4 Human       120    178      70.1            4911.    265. 
#> 5 Droid       140    200      78.7            6200.    309. 
#> 6 Droid        32     96      37.8            1428.     70.5
#> # ... with 1 more variable: bmi <dbl>
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  How many of each species are on each homeworld?
\end{enumerate}

\begin{verbatim}
#> # A tibble: 58 x 3
#>    species  homeworld     n
#>    <chr>    <chr>     <int>
#>  1 Human    Tatooine      8
#>  2 Human    Naboo         5
#>  3 Human    <NA>          5
#>  4 Droid    <NA>          3
#>  5 Gungan   Naboo         3
#>  6 Human    Alderaan      3
#>  7 Droid    Tatooine      2
#>  8 Human    Corellia      2
#>  9 Human    Coruscant     2
#> 10 Kaminoan Kamino        2
#> # ... with 48 more rows
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{6}
\tightlist
\item
  What homeworlds have the greatest \% humans?
\end{enumerate}

\begin{verbatim}
#> # A tibble: 16 x 4
#> # Groups:   homeworld [16]
#>    homeworld    humans total.individuals pct.human
#>    <chr>         <int>             <int>     <dbl>
#>  1 Alderaan          3                 3     1    
#>  2 Corellia          2                 2     1    
#>  3 Stewjon           1                 1     1    
#>  4 Eriadu            1                 1     1    
#>  5 Bestine IV        1                 1     1    
#>  6 Socorro           1                 1     1    
#>  7 Bespin            1                 1     1    
#>  8 Chandrila         1                 1     1    
#>  9 Haruun Kal        1                 1     1    
#> 10 Serenno           1                 1     1    
#> 11 Concord Dawn      1                 1     1    
#> 12 Tatooine          8                10     0.8  
#> 13 Coruscant         2                 3     0.667
#> 14 <NA>              5                10     0.5  
#> 15 Naboo             5                11     0.455
#> 16 Kamino            1                 3     0.333
\end{verbatim}

\hypertarget{data-analytics-i-quizzes}{%
\chapter{Data Analytics I Quizzes}\label{data-analytics-i-quizzes}}

\hypertarget{quiz-one-linear-regression}{%
\section{Quiz One (Linear Regression)}\label{quiz-one-linear-regression}}

Name: \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Add a another variable (column) to the \texttt{women} dataframe called GPA which is these 15 numbers: 1.5, 3.7, 4,1, 3, 2.5, 3.8, 0.8, 2, 4, 1, 3, 2.5, 3.0, 4.0
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  Use GPA and weight to predict the height of a person who is 155 pounds and has a GPA if 3.33. What is your prediction? \_\_\_\_\_\_\_
\item
  Is GPA a significant predictor of height and how do you know?
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Create a figure showing a best fit line on of height and GPA.
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  Install the dplyr package into your Rstudio session.
\end{enumerate}

\hypertarget{quiz-two}{%
\section{Quiz Two}\label{quiz-two}}

Name:\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

\begin{verbatim}
#>      [,1] [,2] [,3] [,4] [,5]
#> [1,]    1    4    7   10   13
#> [2,]    2    5    8   11   14
#> [3,]    3    6    9   12   15
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Write the code that creates this matrix:
\item
  Write DIFFERENT code that creates this matrix in an alternate way:
\item
  In the matrix above, what does \texttt{{[},4{]}} mean?
\item
  What code would return the value in the 3rd column and 3rd row?
\item
  What single line of would give you the average of the all the numbers in columns 2, 4, and 5 and in rows 1 and 3?
\end{enumerate}

\hypertarget{quiz-three}{%
\section{Quiz Three}\label{quiz-three}}

Name: \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}
\CommentTok{\#\textgreater{}    X1 X2 X3 X4 X5 X6 X7 X8 X9 X10}
\CommentTok{\#\textgreater{} 1   1 11 21 31 41 51 61 71 81  91}
\CommentTok{\#\textgreater{} 2   2 12 22 32 42 52 62 72 82  92}
\CommentTok{\#\textgreater{} 3   3 13 23 33 43 53 63 73 83  93}
\CommentTok{\#\textgreater{} 4   4 14 24 34 44 54 64 74 84  94}
\CommentTok{\#\textgreater{} 5   5 15 25 35 45 55 65 75 85  95}
\CommentTok{\#\textgreater{} 6   6 16 26 36 46 56 66 76 86  96}
\CommentTok{\#\textgreater{} 7   7 17 27 37 47 57 67 77 87  97}
\CommentTok{\#\textgreater{} 8   8 18 28 38 48 58 68 78 88  98}
\CommentTok{\#\textgreater{} 9   9 19 29 39 49 59 69 79 89  99}
\CommentTok{\#\textgreater{} 10 10 20 30 40 50 60 70 80 90 100}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Consider the dataframe above called \texttt{df}. What would running this code return \texttt{sum(df{[}7,7:10{]})}
\item
  How can you tell if an object in R is a dataframe?
\item
  How could you create the dataframe above called \texttt{df}?
\item
  What code would return the average of row 2 of \texttt{df}?
\item
  Consider \texttt{mtcars} dataset that comes preloaded with R that looks like this:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{head}\NormalTok{(mtcars)}
\CommentTok{\#\textgreater{}                    mpg cyl disp  hp drat    wt  qsec vs am}
\CommentTok{\#\textgreater{} Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1}
\CommentTok{\#\textgreater{} Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1}
\CommentTok{\#\textgreater{} Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1}
\CommentTok{\#\textgreater{} Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0}
\CommentTok{\#\textgreater{} Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0}
\CommentTok{\#\textgreater{} Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0}
\CommentTok{\#\textgreater{}                   gear carb}
\CommentTok{\#\textgreater{} Mazda RX4            4    4}
\CommentTok{\#\textgreater{} Mazda RX4 Wag        4    4}
\CommentTok{\#\textgreater{} Datsun 710           4    1}
\CommentTok{\#\textgreater{} Hornet 4 Drive       3    1}
\CommentTok{\#\textgreater{} Hornet Sportabout    3    2}
\CommentTok{\#\textgreater{} Valiant              3    1}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  Why do I get this error when I run the code below: \texttt{Error\ in\ plot(hp,\ mpg)\ :\ object\ \textquotesingle{}hp\textquotesingle{}\ not\ found}?
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{plot}\NormalTok{(hp,mpg)}
\end{Highlighting}
\end{Shaded}

\texttt{Error\ in\ plot(hp,\ mpg)\ :\ object\ \textquotesingle{}hp\textquotesingle{}\ not\ found}

Bonus: What is a topic that you find confusing at this point in class?

  \bibliography{book.bib,packages.bib}

\end{document}
